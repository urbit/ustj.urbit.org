<!DOCTYPE html>
<html lang="en" xml:lang="en">

<head>
   <title>Nock for Everyday Coders</title>
   <meta charset="utf-8" />
   <meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" />
   <meta name="viewport" content="width=device-width,initial-scale=1" />
   <link rel="stylesheet" type="text/css" href="/latex.css" />
   <meta name="src" content="mss.tex" />
   <script>window.MathJax = { tex: { tags: "ams", }, }; </script>
   <script type="text/javascript" async="async" id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
</head>

<body>
   <div class="maketitle">





      <h2 class="titleHead">Nock for Everyday Coders</h2>
      <div class="author"><span class="ec-lmbx-12">Tim Galebach</span><span class="ec-lmbx-12"> </span><span
            class="ec-lmbx-12"><code>~timluc-miptev</code></span>
         <br /> <span class="ec-lmbx-12">Hyperware</span>
      </div><br />
      <div class="date"></div>
   </div>
   <section role="doc-abstract" class="abstract">
      <h3 class="abstracttitle">
         <span class="ec-lmbx-9">Abstract</span>
      </h3>
      <!--l. 54-->
      <p class="noindent"><span class="ec-lmr-9">Nock is not super complex, and most programmers</span>
         <span class="ec-lmr-9">can learn the basics of it rapidly. The mental model</span>
         <span class="ec-lmr-9">gained by learning Nock turns out to be very</span>
         <span class="ec-lmr-9">useful in learning Hoon and understanding</span> <span
            class="ec-lmr-9">Urbit</span><span class="ec-lmr-9">.</span>
         <span class="ec-lmr-9">While the Urbit docs generally suggest to not</span>
         <span class="ec-lmr-9">worry about Nock, Nock is very simple and small.</span>
         <span class="ec-lmr-9">Most programmers will feel more comfortable in</span>
         <span class="ec-lmr-9">Hoon having learned Nock’s basics. The goal of this</span>
         <span class="ec-lmr-9">tutorial is to explain Nock clearly in terms most</span>
         <span class="ec-lmr-9">programmers will relate to, to impart a feeling of</span>
         <span class="ec-lmr-9">conﬁdence with very basic Nock, and to give a</span>
         <span class="ec-lmr-9">knowledge of Nock</span><span class="ec-lmr-9">’s idioms and big wins so that</span>
         <span class="ec-lmr-9">they carry over to learning Hoon.</span>


      </p><!--l. 57-->
      <p class="indent"> <span class="ec-lmr-9">This tutorial was originally published online</span>
         <span class="ec-lmr-9">by </span><span class="ec-lmr-9"><code>~timluc-miptev</code> in early 2020 and remains
            an</span>
         <span class="ec-lmr-9">excellent exposition of Nock’s aﬀordances.</span>
      </p>
   </section>

   <h3 class="likesectionHead"><a id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
      <span class="sectionToc">1 <a href="#x1-20001" id="QQ2-1-2">Getting Started</a></span>
      <br /> <span class="subsectionToc">1.1 <a href="#x1-30001.1" id="QQ2-1-3">Phases of Nock</a></span>
      <br /> <span class="subsectionToc">1.2 <a href="#x1-40001.2" id="QQ2-1-4">What Is a Nock Interpreter?</a></span>
      <br /> <span class="subsectionToc">1.3 <a href="#x1-50001.3" id="QQ2-1-5">How to Run Nock Code</a></span>
      <br /> <span class="subsectionToc">1.4 <a href="#x1-60001.4" id="QQ2-1-6">Subject, Formula?</a></span>
      <br /> <span class="subsectionToc">1.5 <a href="#x1-70001.5" id="QQ2-1-7">Evaluating Our First Nock
            Code</a></span>
      <br /> <span class="sectionToc">2 <a href="#x1-80002" id="QQ2-1-8">Fundamental Opcodes</a></span>
      <br /> <span class="subsectionToc">2.1 <a href="#x1-90002.1" id="QQ2-1-9">Nock’s Simplest Functions, <code
               class="lstinline"><span style="color:#000000">0</span></code> and <code
               class="lstinline"><span style="color:#000000">1</span></code></a></span>
      <br /> <span class="subsectionToc">2.2 <a href="#x1-100002.2" id="QQ2-1-10">Binary Tree Addressing</a></span>
      <br /> <span class="subsectionToc">2.3 <a href="#x1-110002.3" id="QQ2-1-13"><code
               class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>, the “Memory
            Slot” Function</a></span>
      <br /> <span class="subsectionToc">2.4 <a href="#x1-160002.4" id="QQ2-1-18"><code
               class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>, the
            “Quoter” Function</a></span>
      <br /> <span class="subsectionToc">2.5 <a href="#x1-180002.5" id="QQ2-1-20"><code
               class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>, the
            Incrementing Function</a></span>
      <br /> <span class="subsectionToc">2.6 <a href="#x1-250002.6" id="QQ2-1-27">The Cell-Maker (<span
               class="small-caps">aka</span> the Distribution Rule)</a></span>
      <br /> <span class="subsectionToc">2.7 <a href="#x1-270002.7" id="QQ2-1-29"><code
               class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code>, the Cell
            Detector, and <code
               class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>, the
            Equality Tester</a></span>
      <br /> <span class="subsectionToc">2.8 <a href="#x1-370002.8" id="QQ2-1-39"><code
               class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>, the
            “Subject-Altering” Function</a></span>
      <br /> <span class="subsectionToc">2.9 <a href="#x1-430002.9" id="QQ2-1-45">Summary of Fundamental
            Opcodes</a></span>
      <br /> <span class="sectionToc">3 <a href="#x1-440003" id="QQ2-1-46">Composite Opcodes</a></span>
      <br /> <span class="subsectionToc">3.1 <a href="#x1-450003.1" id="QQ2-1-47">An Aside About the <code
               class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> (Quoter
            Function)</a></span>
      <br /> <span class="subsectionToc">3.2 <a href="#x1-480003.2" id="QQ2-1-50"><code
               class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>, “If/Else”
            Conditional Branch</a></span>
      <br /> <span class="subsectionToc">3.3 <a href="#x1-560003.3" id="QQ2-1-58"><code
               class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code>, the
            “Composition” Opcode</a></span>
      <br /> <span class="subsectionToc">3.4 <a href="#x1-580003.4" id="QQ2-1-60"><code
               class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code>, the
            “Variable Push” Opcode</a></span>
      <br /> <span class="subsectionToc">3.5 <a href="#x1-610003.5" id="QQ2-1-63"><code
               class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>, Run a
            Stored Procedure Arm in a Core</a></span>
      <br /> <span class="subsectionToc">3.6 <a href="#x1-650003.6" id="QQ2-1-67"><code
               class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code>, Replace a
            Memory Slot</a></span>
      <br /> <span class="subsectionToc">3.7 <a href="#x1-680003.7" id="QQ2-1-70">Real Nock Code</a></span>
      <br /> <span class="subsectionToc">3.8 <a href="#x1-700003.8" id="QQ2-1-72">Summary</a></span>
      <br /> <span class="sectionToc">4 <a href="#x1-710004" id="QQ2-1-73">Interlude</a></span>
      <br /> <span class="subsectionToc">4.1 <a href="#x1-720004.1" id="QQ2-1-74">Order of Operations</a></span>
      <br /> <span class="subsectionToc">4.2 <a href="#x1-740004.2" id="QQ2-1-76"><code
               class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code>, Hints and
            Side Eﬀects for the Interpreter</a></span>


      <br /> <span class="subsectionToc">4.3 <a href="#x1-780004.3" id="QQ2-1-80">Nock in Hoon</a></span>
      <br /> <span class="sectionToc">5 <a href="#x1-790005" id="QQ2-1-81">The Core as Design Pattern</a></span>
      <br /> <span class="subsectionToc">5.1 <a href="#x1-800005.1" id="QQ2-1-82">Building a Core Manually</a></span>
      <br /> <span class="sectionToc">6 <a href="#x1-850006" id="QQ2-1-87">Conclusion</a></span>
   </div>

   <h3 class="sectionHead"><span class="titlemark">1 </span> <a id="x1-20001"></a>Getting Started</h3>
   <!--l. 68-->
   <p class="noindent">When people ﬁrst look at Nock, they see the deﬁnition,
      which is fairly intimidating. I’m talking about lines like
      this:
   </p>
   <!--l. 70-->
   <pre class="lstlisting" id="listing-16"><span class="label"><a  id="x1-2001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 74-->
   <p class="noindent">The problem is, the programmer may already know that Nock
      code looks more like the below – just lists of numbers, with no
      symbols:
   </p>
   <!--l. 77-->
   <pre class="lstlisting" id="listing-17"><span class="label"><a  id="x1-2002r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[6</span></span> 
<span class="label"><a  id="x1-2003r2"></a></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[5</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span> 
<span class="label"><a  id="x1-2004r3"></a></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span> 
<span class="label"><a  id="x1-2005r4"></a></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]]]</span></span> 
<span class="label"><a  id="x1-2006r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 85-->
   <p class="indent"> What gives? Which one is the “real” Nock?

   </p>
   <h4 class="subsectionHead"><span class="titlemark">1.1 </span> <a id="x1-30001.1"></a>Phases of Nock</h4>
   <!--l. 89-->
   <p class="noindent">We are looking at two diﬀerent things in the examples
      above:
   </p><!--l. 91-->
   <p class="indent">
   </p>
   <ol class="enumerate1">


      <li class="enumerate" id="x1-3002x1">
         <!--l. 92-->
         <p class="noindent">Pseudocode for <span class="ec-lmri-10">how to interpret </span>Nock.
         </p>
      </li>
      <li class="enumerate" id="x1-3004x2">
         <!--l. 93-->
         <p class="noindent">Code to be interpreted (written as lists of numbers).</p>
      </li>
   </ol>
   <!--l. 96-->
   <p class="indent"> The symbols and spec are pseudocode, not real Nock code.
      They could just as easily be written in English, and they will
      never be written down as actual Nock code and given to an
      interpreter. They represent what an interpreter should do to
      turn Nock code into interpreter instructions.
   </p><!--l. 98-->
   <p class="indent"> The lists of numbers are the actual Nock code. This is
      what you feed to an interpreter to get some result.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">1.2 </span> <a id="x1-40001.2"></a>What Is a Nock Interpreter?
   </h4>
   <!--l. 102-->
   <p class="noindent">An interpreter can be a computer program, or it can be a
      human manually expanding Nock code into results. In both
      cases, the program and human have to know the Nock
      pseudocode in order to do the right thing with incoming Nock
      code.
   </p><!--l. 104-->
   <p class="indent"> So a Nock interpreter is any entity that takes Nock
      code as input, and gives a noun as output. A noun can
      be:
   </p>
   <!--l. 106-->
   <pre class="lstlisting" id="listing-18"><span class="label"><a  id="x1-4001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">number</span></span> 
<span class="label"><a  id="x1-4002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">782</span></span> 
<span class="label"><a  id="x1-4003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">pair</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">two</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">elements</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-4004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[782</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9872]</span></span> 
<span class="label"><a  id="x1-4005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">each</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">element</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">itself</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">be</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">pair</span></span> 
<span class="label"><a  id="x1-4006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[782</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[9872</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">89728]]</span></span> 
<span class="label"><a  id="x1-4007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">above</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">be</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">written</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span> 
<span class="label"><a  id="x1-4008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[782</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9872</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">89728]</span></span></pre>

   <h4 class="subsectionHead"><span class="titlemark">1.3 </span> <a id="x1-50001.3"></a>How to Run Nock Code</h4>
   <!--l. 119-->
   <p class="noindent">We will be expanding Nock pseudocode manually in the
      examples that follow, in eﬀect acting as our own interpreter.


   </p><!--l. 121-->
   <p class="indent"> If we want to check that we’re getting the right results
      from our manual interpretation, we need to run a Nock
      interpreter, such as the Urbit Dojo.
   </p><!--l. 123-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-5002x1">
         <!--l. 124-->
         <p class="noindent">Start up a Dojo session on a fake ship.<span class="footnote-mark"><a href="#fn1x0"><sup
                     class="textsuperscript">1</sup></a></span><a id="x1-5003f1"></a>
         </p>
      </li>
      <li class="enumerate" id="x1-5006x2">
         <!--l. 125-->
         <p class="noindent">At the prompt, we can execute Nock using .* dottar,
            e.g., <code
               class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">(</span><span style="color:#000000">NOCK_SUBJECT,</span><span style="color:#000000"> </span><span style="color:#000000">NOCK_FORMULA</span><span style="color:#000000">)</span></code>.
         </p>
      </li>
   </ol>

   <h4 class="subsectionHead"><span class="titlemark">1.4 </span> <a id="x1-60001.4"></a>Subject, Formula?</h4>
   <!--l. 130-->
   <p class="noindent">Let’s keep this simple:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 133-->
         <p class="noindent">subject = an argument to a function
         </p>
      </li>
      <li class="itemize">
         <!--l. 134-->
         <p class="noindent">formula = the function</p>
      </li>
   </ul>
   <!--l. 137-->
   <p class="indent"> That’s it. We’ll see below how this works, going really
      slowly with examples.



   </p>
   <h4 class="subsectionHead"><span class="titlemark">1.5 </span> <a id="x1-70001.5"></a>Evaluating Our First Nock Code
   </h4>
   <!--l. 141-->
   <p class="noindent">OK, so the interpreter takes two arguments, a “subject&#x0022;
      and a “formula&#x0022;. Both are nouns (a number or a cell).
      Let’s run some insanely simple Nock code in the
      Dojo:<span class="footnote-mark"><a href="#fn2x0"><sup class="textsuperscript">2</sup></a></span><a
         id="x1-7001f2"></a>
   </p>
   <!--l. 143-->
   <pre class="lstlisting" id="listing-21"><span class="label"><a  id="x1-7003r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(42</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-7004r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">42</span></span></pre>
   <!--l. 148-->
   <p class="indent"> In the above, <code class="lstinline"><span style="color:#000000">42</span></code> is our subject.
      <code
         class="lstinline"><span style="color:#000000">[0</span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>
      is our formula.
   </p><!--l. 150-->
   <p class="indent"> Formulas are always cells, and the ﬁrst element of the cell
      is a number that you can think of as <span class="ec-lmri-10">the name of the</span>
      <span class="ec-lmri-10">function</span>.
   </p><!--l. 152-->
   <p class="indent"> In this case, our function name is <code
         class="lstinline"><span style="color:#000000">0</span></code>, which is the memory
      slot function. It is always followed by 1 number, in this case <code
         class="lstinline"><span style="color:#000000">1</span></code>,
      which is the number of the memory slot to fetch in the
      subject.
   </p><!--l. 154-->
   <p class="indent"> Whenever we look at Nock code, we want to ask:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 157-->
         <p class="noindent">What is the subject (function argument)? In this
            case, it’s <code class="lstinline"><span style="color:#000000">42</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 158-->
         <p class="noindent">What is the formula (function)? In this case, it’s
            <code
               class="lstinline"><span style="color:#000000">[0</span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>.
         </p>
      </li>
      <li class="itemize">


         <!--l. 159-->
         <p class="noindent">What value does that formula (function) produce
            when called on this subject (argument)? In this case,
            the return value is <code class="lstinline"><span style="color:#000000">42</span></code>.</p>
      </li>
   </ul>
   <!--l. 162-->
   <p class="indent"> Why is the return value <code class="lstinline"><span style="color:#000000">42</span></code>? How
      does this formula
      work?

   </p>
   <h3 class="sectionHead"><span class="titlemark">2 </span> <a id="x1-80002"></a>Fundamental Opcodes</h3>

   <h4 class="subsectionHead"><span class="titlemark">2.1 </span> <a id="x1-90002.1"></a>Nock’s Simplest Functions,
      <code class="lstinline"><span style="color:#000000">0</span></code> and <code
         class="lstinline"><span style="color:#000000">1</span></code></h4>
   <!--l. 168-->
   <p class="noindent">The two most basic Nock functions are <code
         class="lstinline"><span style="color:#000000">0</span></code> address and <code
         class="lstinline"><span style="color:#000000">1</span></code>
      constant. The goal here is to get strong intuitions of what they
      do, how they handle edge cases, and how this relates to the
      Nock spec/pseudocode.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.2 </span> <a id="x1-100002.2"></a>Binary Tree Addressing</h4>
   <!--l. 172-->
   <p class="noindent">Before getting started on Nock proper, we should
      understand how Nock and Hoon handle addresses in binary
      trees. If you already understand why memory slot 5 of
      <code
         class="lstinline"><span style="color:#000000">[[</span><span style="color:#000000">&#x0027;</span><span style="color:#000000">apple</span><span style="color:#000000">&#x0027;</span><span style="color:#000000"> </span><span style="color:#000000">%pie</span><span style="color:#000000">]</span><span style="color:#000000"> </span><span style="color:#000000">[0</span><span style="color:#000000">b1101</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">xdad</span><span style="color:#000000">]]</span></code>
      is <code class="lstinline"><span style="color:#000000">%pie</span></code>, you are
      good to go and can skip ahead to Section <a href="#x1-110002.3">2.3<!--tex4ht:ref: sxn:nock0 --></a>.
   </p><!--l. 174-->
   <p class="indent"> Every noun in Nock can be thought of as a tree, which
      means we can give an exact number to access any position in
      the tree. This means that, no matter how big our subject
      (argument) is, we can yank a value out of any part of
      it.
   </p><!--l. 176-->
   <p class="indent"> The Nock speciﬁcation deﬁnes noun tree addressing:
   </p>
   <!--l. 178-->


   <pre class="lstlisting" id="listing-36"><span class="label"><a  id="x1-10001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span> 
<span class="label"><a  id="x1-10002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span> 
<span class="label"><a  id="x1-10003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[3</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span> 
<span class="label"><a  id="x1-10004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span> 
<span class="label"><a  id="x1-10005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1)</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[3</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 186-->
   <p class="noindent">This permits the address to be deﬁned within a particular
      subtree as well as within the overall tree (Figure <a href="#x1-100061">1<!--tex4ht:ref: fig:treefull --></a>).
   </p>
   <figure class="figure">



      <a id="x1-100061"></a>


      <!--l. 191-->
      <p class="noindent"><img class="full" src="img/mss0x.png" alt="12481191151221223612212271221336789001123245367489501" width="100%" height="100%"/>
      </p>
      <figcaption class="caption"><span class="id">Figure 1: </span><span class="content">A binary tree with labeled
            node addresses to
            several layers. </span></figcaption><!--tex4ht:label?: x1-100061 -->


   </figure>
   <!--l. 264-->
   <p class="indent"> That is, how do you say which slot number you want from
      a given tree? We say that:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 267-->
         <p class="noindent">The tree root is address 1.
         </p>
      </li>
      <li class="itemize">
         <!--l. 268-->
         <p class="noindent">The head of every node <span class="mathjax-inline">\(n\)</span> is <span
               class="mathjax-inline">\(2n\)</span>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 269-->
         <p class="noindent">The tail of every node <span class="mathjax-inline">\(n\)</span> is <span
               class="mathjax-inline">\(2n+1\)</span>.</p>
      </li>
   </ul>
   <!--l. 272-->
   <p class="indent"> Let’s take an example tree to illustrate. In Nock cell form,
      the tree is:
   </p>
   <!--l. 274-->
   <pre class="lstlisting" id="listing-37"><span class="label"><a  id="x1-10007r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]]</span></span></pre>
   <!--l. 278-->
   <p class="indent"> Diagrammatically, the tree looks like Figure <a
         href="#x1-100082">2<!--tex4ht:ref: fig:tree45 --></a>.
   </p>
   <figure class="figure">



      <a id="x1-100082"></a>


      <!--l. 283-->
      <p class="noindent"><img class="full" mss1x.png" alt="12453671145" width="100%" height="100%"/>
      </p>
      <figcaption class="caption"><span class="id">Figure 2: </span><span class="content">A binary tree with some
            labeled node addresses.
         </span></figcaption><!--tex4ht:label?: x1-100082 -->


   </figure>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 317-->
         <p class="noindent">1 is the address of the whole tree,
            <code
               class="lstinline"><span style="color:#000000">[[4</span><span style="color:#000000"> </span><span style="color:#000000">5]</span><span style="color:#000000"> </span><span style="color:#000000">[6</span><span style="color:#000000"> </span><span style="color:#000000">14</span><span style="color:#000000"> </span><span style="color:#000000">15]]</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 318-->
         <p class="noindent">2 is the address of the left branch, <code
               class="lstinline"><span style="color:#000000">[4</span><span style="color:#000000"> </span><span style="color:#000000">5]</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 319-->
         <p class="noindent">3 is the address of the right branch, <code
               class="lstinline"><span style="color:#000000">[6</span><span style="color:#000000"> </span><span style="color:#000000">14</span><span style="color:#000000"> </span><span style="color:#000000">15]</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 320-->
         <p class="noindent">15 is the value <code class="lstinline"><span style="color:#000000">15</span></code>.</p>
      </li>
   </ul>
   <!--l. 323-->
   <p class="indent"> Let’s play around now in the Dojo Nock interpreter so that
      we can conﬁrm this. In each example, our subject (argument)
      will be the tree <code
         class="lstinline"><span style="color:#000000">[[4</span><span style="color:#000000"> </span><span style="color:#000000">5]</span><span style="color:#000000"> </span><span style="color:#000000">[6</span><span style="color:#000000"> </span><span style="color:#000000">14</span><span style="color:#000000"> </span><span style="color:#000000">15]]</span></code>.
   </p>
   <!--l. 325-->
   <pre class="lstlisting" id="listing-43"><span class="label"><a  id="x1-10009r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1]</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">whole</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tree</span></span> 
<span class="label"><a  id="x1-10010r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-10011r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]</span></span> 
<span class="label"><a  id="x1-10012r4"></a></span> 
<span class="label"><a  id="x1-10013r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2]</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">left</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">branch</span></span> 
<span class="label"><a  id="x1-10014r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-10015r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span> 
<span class="label"><a  id="x1-10016r8"></a></span> 
<span class="label"><a  id="x1-10017r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">7]</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subtree</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">7</span></span> 
<span class="label"><a  id="x1-10018r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7])</span></span> 
<span class="label"><a  id="x1-10019r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[14</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">15]</span></span></pre>

   <h4 class="subsectionHead"><span class="titlemark">2.3 </span> <a id="x1-110002.3"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>, the “Memory Slot”
      Function</h4>
   <!--l. 342-->
   <p class="noindent">The pseudocode for the <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>
      opcode<span class="footnote-mark"><a href="#fn3x0"><sup class="textsuperscript">3</sup></a></span><a
         id="x1-11001f3"></a>
      is as follows:


   </p>
   <!--l. 344-->
   <pre class="lstlisting" id="listing-47"><span class="label"><a  id="x1-11003r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 348-->
   <p class="indent"> <code
         class="lstinline"><span style="color:#000000">/</span><span style="color:#000000">[</span><span style="color:#000000">b</span><span style="color:#000000"> </span><span style="color:#000000">a</span><span style="color:#000000">]</span></code>
      is pseudocode. In English, it means “<code class="lstinline"><span style="color:#000000">a</span></code> is a
      binary
      tree. Get the memory slot numbered <code class="lstinline"><span style="color:#000000">b</span></code>.
   </p><!--l. 350-->
   <p class="indent"> So if <code class="lstinline"><span style="color:#000000">a</span></code> were the tree <code
         class="lstinline"><span style="color:#000000">[9</span><span style="color:#000000"> </span><span style="color:#000000">10]</span></code>,
      and <code class="lstinline"><span style="color:#000000">b</span></code> were <code
         class="lstinline"><span style="color:#000000">1</span></code>, we’d get the
      memory slot <code class="lstinline"><span style="color:#000000">1</span></code> in the tree <code
         class="lstinline"><span style="color:#000000">[9</span><span style="color:#000000"> </span><span style="color:#000000">10]</span></code>,
      which is just the tree
      itself.
   </p><!--l. 352-->
   <p class="indent"> Written in pseudocode, that’s <code
         class="lstinline"><span style="color:#000000">/</span><span style="color:#000000">[1</span><span style="color:#000000"> </span><span style="color:#000000">[9</span><span style="color:#000000"> </span><span style="color:#000000">10]]</span></code>.
      We can
      also do <code
         class="lstinline"><span style="color:#000000">/</span><span style="color:#000000">[2</span><span style="color:#000000"> </span><span style="color:#000000">[9</span><span style="color:#000000"> </span><span style="color:#000000">10]]</span></code>,
      which grabs memory slot <code class="lstinline"><span style="color:#000000">2</span></code>, aka
      <code class="lstinline"><span style="color:#000000">9</span></code>.
   </p><!--l. 354-->
   <p class="indent"> Let’s look at some examples. I’ve put them ﬁrst in Dojo
      form so that you can see how they run in that interpreter, and
      then I show the “human interpreter&#x0022; in pseudocode below
      that.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.3.1 </span> <a id="x1-120002.3.1"></a>Example: Retrieve the
      Subject</h5>
   <!--l. 358-->
   <pre class="lstlisting" id="listing-61"><span class="label"><a  id="x1-12001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-12002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-12003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span> 
<span class="label"><a  id="x1-12004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">--</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">replaces</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Dojo</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">()</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[]</span></span> 
<span class="label"><a  id="x1-12005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-12006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">-&#x003E;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-12007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]]</span></span> 
<span class="label"><a  id="x1-12008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.3.2 </span> <a id="x1-130002.3.2"></a>Example: Retrieve the
      Head of the Subject</h5>
   <!--l. 371-->
   <pre class="lstlisting" id="listing-62"><span class="label"><a  id="x1-13001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-13002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span> 
<span class="label"><a  id="x1-13003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">--</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">replaces</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Dojo</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">()</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[]</span></span> 
<span class="label"><a  id="x1-13004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-13005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">-&#x003E;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-13006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]]</span></span> 
<span class="label"><a  id="x1-13007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.3.3 </span> <a id="x1-140002.3.3"></a>Example: A Crash</h5>
   <!--l. 383-->


   <pre class="lstlisting" id="listing-63"><span class="label"><a  id="x1-14001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]])</span></span> 
<span class="label"><a  id="x1-14002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span> 
<span class="label"><a  id="x1-14003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-14004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]</span></span> 
<span class="label"><a  id="x1-14005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]]</span></span> 
<span class="label"><a  id="x1-14006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">t</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">evaluate</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">this--a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">must</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">be</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">number</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">like</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">not</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">like</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1]</span></span> 
<span class="label"><a  id="x1-14007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">CRASH</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.3.4 </span> <a id="x1-150002.3.4"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code></h5>
   <!--l. 395-->
   <p class="noindent"><code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> is everywhere in
      Nock, because “get something from a
      memory slot” really means “store stuﬀ in a place and get it
      whenever I want,” which is another name for creating
      variables. These memory slot numbers take the place of
      variable names.
   </p><!--l. 397-->
   <p class="indent"> If you’re familiar with assembly or C, they’re conceptually
      similar to memory pointers or registers in how Nock uses
      them. Keep in mind though, Nock is functional/immutable, so
      it doesn’t update memory locations: it creates copies of data
      structures with altered values.
   </p><!--l. 399-->
   <p class="indent"> We’ve also seen that the memory slot function can’t take
      just anything as the memory slot to fetch: it must receive an
      atom (number).

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.4 </span> <a id="x1-160002.4"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>, the “Quoter”
      Function</h4>
   <!--l. 404-->
   <p class="noindent">This is another really simple function. You can think of it as a
      “quoter”: it just returns any value passed to it exactly as it is.
      It ignores the subject, and just quotes the value after it. Let’s
      look at a couple examples.
   </p>
   <!--l. 406-->
   <pre class="lstlisting" id="listing-67"><span class="label"><a  id="x1-16001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([20</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">30]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">67])</span></span> 
<span class="label"><a  id="x1-16002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">67</span></span> 
<span class="label"><a  id="x1-16003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">587]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">same</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[587]]]</span></span> 
<span class="label"><a  id="x1-16004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([20</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">30]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[587])</span></span> 
<span class="label"><a  id="x1-16005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">587]</span></span></pre>
   <!--l. 414-->
   <p class="indent"> It doesn’t matter how much information is after the <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>: <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> is
      a dumb function that just returns it all.
   </p><!--l. 416-->
   <p class="indent"> The pseudocode for <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> is:
   </p>
   <!--l. 418-->


   <pre class="lstlisting" id="listing-71"><span class="label"><a  id="x1-16006r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span></pre>
   <!--l. 422-->
   <p class="indent"> In English, this means: “ignore the subject <code
         class="lstinline"><span style="color:#000000">a</span></code>, and just
      return everything after the <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> exactly as it is.
   </p><!--l. 424-->
   <p class="indent"> Let’s look at our ﬁrst example, <code
         class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">([20</span><span style="color:#000000"> </span><span style="color:#000000">30]</span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">67])</span></code>.
      The subject <code class="lstinline"><span style="color:#000000">a</span></code> is <code
         class="lstinline"><span style="color:#000000">[20</span><span style="color:#000000"> </span><span style="color:#000000">30]</span></code>,
      so we ignore that. What’s after the
      <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>? <code
         class="lstinline"><span style="color:#000000">67</span></code>, so we return that.
   </p><!--l. 426-->
   <p class="indent"> In the second example, “everything after the <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>” is
      longer, but the same rule applies: the Nock interpreter just
      returns it exactly as it is, after stripping out unnecessary
      brackets.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.4.1 </span> <a id="x1-170002.4.1"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code></h5>
   <!--l. 430-->
   <p class="noindent"><code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> is a simple
      function that just returns whatever is after it
      (“quoter” or “constant”). It’s useful for quoting values that
      you want to use later in your Nock code.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.5 </span> <a id="x1-180002.5"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>, the Incrementing
      Function</h4>
   <!--l. 435-->
   <p class="noindent"><code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> are simple
      functions that don’t have any nested
      behavior. Now we’re going to move to a function that
      <span class="ec-lmri-10">does </span>have nested children, opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>. In these
      examples,
      pay attention to how <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> operates on its
      arguments; we’ll
      look at pseudocode and break down the examples in a
      moment.
   </p>
   <!--l. 437-->
   <pre class="lstlisting" id="listing-87"><span class="label"><a  id="x1-18001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-18002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">51</span></span> 
<span class="label"><a  id="x1-18003r3"></a></span> 
<span class="label"><a  id="x1-18004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-18005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span> 
<span class="label"><a  id="x1-18006r6"></a></span> 
<span class="label"><a  id="x1-18007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3])</span></span> 
<span class="label"><a  id="x1-18008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">152</span></span> 
<span class="label"><a  id="x1-18009r9"></a></span> 
<span class="label"><a  id="x1-18010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">98])</span></span> 
<span class="label"><a  id="x1-18011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">99</span></span> 
<span class="label"><a  id="x1-18012r12"></a></span> 
<span class="label"><a  id="x1-18013r13"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]])</span></span> 
<span class="label"><a  id="x1-18014r14"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span></pre>
   <!--l. 454-->
   <p class="indent"> Here’s <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>’s pseudocode,
      juxtaposed with that of <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> and
      <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>:
   </p>


   <!--l. 456-->
   <pre class="lstlisting" id="listing-91"><span class="label"><a  id="x1-18015r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-18016r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-18017r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span></pre>
   <!--l. 462-->
   <p class="indent"> In English, this says “when we have subject <code
         class="lstinline"><span style="color:#000000">a</span></code>,
      function <code class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>, and
      Nock code <code class="lstinline"><span style="color:#000000">b</span></code>, ﬁrst evaluate <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      as
      <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">]</span></code>,
      and then add 1 to the result.”
   </p><!--l. 464-->
   <p class="indent"> If we contrast with <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>, we see that the
      right side has
      a <code class="lstinline"><span style="color:#000000">*</span></code> symbol. This symbol means “evaluate the
      expression
      again in the Nock interpreter.” <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> <span
         class="ec-lmri-10">did not </span>have this
      symbol, and that’s why they couldn’t evaluate nested Nock
      expressions.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.5.1 </span> <a id="x1-190002.5.1"></a>Example: Walking
      Through Increment</h5>
   <!--l. 468-->
   <p class="noindent">Let’s start by translating the Dojo’s <code
         class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">(</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">)</span></code>
      to pseudocode of the form <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>,
      and then expand it line by
      line:
   </p>
   <!--l. 470-->
   <pre class="lstlisting" id="listing-104"><span class="label"><a  id="x1-19001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-19002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">51</span></span> 
<span class="label"><a  id="x1-19003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">change</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">pseudocode</span></span> 
<span class="label"><a  id="x1-19004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-19005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">move</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">outside</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">+</span></span> 
<span class="label"><a  id="x1-19006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-19007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">expand</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">operator</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;/</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span> 
<span class="label"><a  id="x1-19008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span> 
<span class="label"><a  id="x1-19009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grabs</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span> 
<span class="label"><a  id="x1-19010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50)</span></span> 
<span class="label"><a  id="x1-19011r11"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">evaluate</span></span> 
<span class="label"><a  id="x1-19012r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">51</span></span></pre>
   <!--l. 485-->
   <p class="noindent">The <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      part of <code
         class="lstinline"><span style="color:#000000">+*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      expands to:
   </p>
   <!--l. 488-->
   <pre class="lstlisting" id="listing-107"><span class="label"><a  id="x1-19013r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span></pre>
   <!--l. 492-->
   <p class="noindent">OK, this we know how to handle! It’s just our <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> function, and
      it wants the value in memory slot <code class="lstinline"><span style="color:#000000">1</span></code> of the
      subject. That’s
      <code class="lstinline"><span style="color:#000000">50</span></code>.
   </p><!--l. 495-->
   <p class="indent"> Now we know that <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span><span style="color:#000000">=50</span></code>,
      and we just have to add 1
      to it (the <code class="lstinline"><span style="color:#000000">+</span></code> in <code
         class="lstinline"><span style="color:#000000">+*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>).
      That is <code class="lstinline"><span style="color:#000000">51</span></code>, which is exactly what
      the interpreter gave us.



   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.5.2 </span> <a id="x1-200002.5.2"></a>Example: Walking
      Through Increment</h5>
   <!--l. 499-->
   <p class="noindent">This one is similar, we just have an extra <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>. We again start
      by translating the Dojo’s <code
         class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">(</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">)</span></code>
      to
      pseudocode, and then expand
   </p>
   <!--l. 501-->
   <pre class="lstlisting" id="listing-117"><span class="label"><a  id="x1-20001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-20002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span> 
<span class="label"><a  id="x1-20003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-20004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">first</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">moves</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">outside</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">+</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span></span> 
<span class="label"><a  id="x1-20005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-20006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">nd</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">becomes</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">+</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">...we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">have</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">again!</span></span> 
<span class="label"><a  id="x1-20007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-20008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span> 
<span class="label"><a  id="x1-20009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50)</span></span> 
<span class="label"><a  id="x1-20010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(51)</span></span> 
<span class="label"><a  id="x1-20011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.5.3 </span> <a id="x1-210002.5.3"></a>Example: Walking
      Through Serial Increment</h5>
   <!--l. 517-->
   <p class="noindent">Here we again see lots of <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>s applied
      consecutively, and we also
      see how we can yank values out of a more complicated subject
      and manipulate them. Notice how the subject is a cell,
      not an atom. The rest is the same as in the previous
      example.
   </p>
   <!--l. 519-->
   <pre class="lstlisting" id="listing-119"><span class="label"><a  id="x1-21001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3])</span></span> 
<span class="label"><a  id="x1-21002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">152</span></span> 
<span class="label"><a  id="x1-21003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">the</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">subject</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span> 
<span class="label"><a  id="x1-21004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span> 
<span class="label"><a  id="x1-21005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span> 
<span class="label"><a  id="x1-21006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">ve</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">extracted</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">all</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increments,</span></span> 
<span class="label"><a  id="x1-21007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">at</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-21008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span> 
<span class="label"><a  id="x1-21009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[3</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">150]]</span></span> 
<span class="label"><a  id="x1-21010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(150)</span></span> 
<span class="label"><a  id="x1-21011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(151)</span></span> 
<span class="label"><a  id="x1-21012r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">152</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.5.4 </span> <a id="x1-220002.5.4"></a>Example: Walking
      Through Incrementing a
      Constant</h5>
   <!--l. 536-->
   <p class="noindent">In the below example, we see how we can use the quote/constant
      function <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> to
      generate the value <code class="lstinline"><span style="color:#000000">98</span></code> and increment it. We
      ignore the subject <code class="lstinline"><span style="color:#000000">50</span></code> completely.
   </p>
   <!--l. 538-->
   <pre class="lstlisting" id="listing-123"><span class="label"><a  id="x1-22001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">98])</span></span> 
<span class="label"><a  id="x1-22002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">99</span></span> 
<span class="label"><a  id="x1-22003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">98]]</span></span> 
<span class="label"><a  id="x1-22004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;quoter</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span> 
<span class="label"><a  id="x1-22005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">98]]</span></span> 
<span class="label"><a  id="x1-22006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(98)</span></span> 
<span class="label"><a  id="x1-22007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">99</span></span></pre>



   <h5 class="subsubsectionHead"><span class="titlemark">2.5.5 </span> <a id="x1-230002.5.5"></a>Example: A Crash When
      Incrementing a Cell</h5>
   <!--l. 550-->
   <p class="noindent">Just as opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> had values it
      couldn’t handle (non-atoms), so
      opcode <code class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> needs
      the nested value inside it to evaluate to an
      atom.
   </p>
   <!--l. 552-->
   <pre class="lstlisting" id="listing-126"><span class="label"><a  id="x1-23001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]])</span></span> 
<span class="label"><a  id="x1-23002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span> 
<span class="label"><a  id="x1-23003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]</span></span> 
<span class="label"><a  id="x1-23004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">OK</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cool,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">nested</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span> 
<span class="label"><a  id="x1-23005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]</span></span> 
<span class="label"><a  id="x1-23006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">ignores</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(50)</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">returns</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2]</span></span> 
<span class="label"><a  id="x1-23007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-23008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">isn</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">t</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">an</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">atom,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">how</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increment</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it???</span></span> 
<span class="label"><a  id="x1-23009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">We</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">t,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">crash.</span></span> 
<span class="label"><a  id="x1-23010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.5.6 </span> <a id="x1-240002.5.6"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code></h5>
   <!--l. 567-->
   <p class="noindent">In these examples, we’ve seen that function <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> can be called as
      many times in a row as we want. At the end of those calls, it
      always ends up incrementing a number that either is yanked
      from the subject (memory slot function <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>) or quoted as it
      is
      (quote function <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>).

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.6 </span> <a id="x1-250002.6"></a>The Cell-Maker (<span
         class="small-caps">aka</span> the Distribution Rule)</h4>
   <!--l. 572-->
   <p class="noindent">The Nock interpreter is allowed to return nouns, which are
      atoms (positive numbers) or cells (pairs of nouns). What have
      our functions/opcodes been returning so far?
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 575-->
         <p class="noindent"><code
               class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>: atoms or
            cells, depending what’s in the memory
            slot that we yoink.
         </p>
      </li>
      <li class="itemize">
         <!--l. 576-->
         <p class="noindent"><code
               class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>: atoms or
            cells, depending on what we quote.


         </p>
      </li>
      <li class="itemize">
         <!--l. 577-->
         <p class="noindent"><code
               class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>: just atoms.
         </p>
      </li>
   </ul>
   <!--l. 580-->
   <p class="indent"> But what if my subject was <code
         class="lstinline"><span style="color:#000000">[51</span><span style="color:#000000"> </span><span style="color:#000000">67</span><span style="color:#000000"> </span><span style="color:#000000">89]</span></code>,
      and I wanted to
      increment every value and return that as <code
         class="lstinline"><span style="color:#000000">[52</span><span style="color:#000000"> </span><span style="color:#000000">68</span><span style="color:#000000"> </span><span style="color:#000000">90]</span></code>?
      How
      can I do that when it’s a cell, and <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> only seems able to
      return
      atoms?
   </p><!--l. 582-->
   <p class="indent"> The answer is something that the Nock docs call the
      “distribution rule” or “implicit cons” (hello, fellow <span class="small-caps">lisp</span>ers!),
      but that I ﬁnd easiest to think of as the “Cell-Maker
      Rule”.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.6.1 </span> <a id="x1-260002.6.1"></a>A Quick Detour into
      Nock Formulas</h5>
   <!--l. 586-->
   <p class="noindent">We haven’t talked much yet about what values are legal to
      feed into the Nock interpreter (the <code
         class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">(</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">)</span></code>
      function in the Dojo). So far, we’ve only been using formulas
      that start with numbers (our functions/opcodes <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>/<code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>/<code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>).
   </p><!--l. 588-->
   <p class="indent"> Let’s now fully solidify our understanding of what’s a legal
      formula by taking a quick look at the three possible cases.
      (The format is<code
         class="lstinline"><span style="color:#000000">.*</span><span style="color:#000000">(</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">)</span></code>.)
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 592-->
         <p class="noindent">The formula is a cell starting with an opcode. We
            know this is OK.
         </p>
         <!--l. 594-->
         <pre class="lstlisting" id="listing-142"><span class="label"><a  id="x1-26001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-26002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span></pre>

      </li>
      <li class="itemize">


         <!--l. 599-->
         <p class="noindent">The formula is just an atom (0). This is not valid.
         </p>
         <!--l. 601-->
         <pre class="lstlisting" id="listing-143"><span class="label"><a  id="x1-26003r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0)</span></span> 
<span class="label"><a  id="x1-26004r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span></pre>

      </li>
      <li class="itemize">
         <!--l. 606-->
         <p class="noindent">Finally, we try a formula that is a cell starting with an
            atom. This looks invalid, but—it works!
         </p>
         <!--l. 608-->
         <pre class="lstlisting" id="listing-144"><span class="label"><a  id="x1-26005r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">203]])</span></span> 
<span class="label"><a  id="x1-26006r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">203]</span></span></pre>

      </li>
   </ul>
   <!--l. 615-->
   <p class="indent"> So apparently a formula cell can start with a cell. The
      Cell-Maker rule is:
   </p>
   <!--l. 617-->
   <pre class="lstlisting" id="listing-145"><span class="label"><a  id="x1-26007r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">subject</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">formula-x</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">formula-y</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span><span 
class="ec-lmtt-9">→</span> 
<span class="label"><a  id="x1-26008r2"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">subject</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">formula-x</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">subject</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">formula-y</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 622-->
   <p class="indent"> In our example above, <code class="lstinline"><span style="color:#000000">formula-x</span></code>
      is <code
         class="lstinline"><span style="color:#000000">[0</span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>,
      and
      <code class="lstinline"><span style="color:#000000">formula-y</span></code> is <code
         class="lstinline"><span style="color:#000000">[1</span><span style="color:#000000"> </span><span style="color:#000000">203]</span></code>.
      They each evaluate individually
      against the subject, and the end result is a cell.
   </p><!--l. 624-->
   <p class="indent"> We can make as many cells in a row as we want:
   </p>
   <!--l. 626-->
   <pre class="lstlisting" id="listing-150"><span class="label"><a  id="x1-26009r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">203]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">19]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">76]])</span></span> 
<span class="label"><a  id="x1-26010r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">203</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">19</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">76]</span></span></pre>
   <!--l. 631-->
   <p class="indent"> We can put any operation inside each cell:
   </p>
   <!--l. 633-->
   <pre class="lstlisting" id="listing-151"><span class="label"><a  id="x1-26011r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([19</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">20]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">76]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]])</span></span> 
<span class="label"><a  id="x1-26012r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[19</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">20]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">76</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">22]</span></span></pre>


   <!--l. 638-->
   <p class="indent"> If we take the returned collection <code
         class="lstinline"><span style="color:#000000">[[19</span><span style="color:#000000"> </span><span style="color:#000000">20]</span><span style="color:#000000"> </span><span style="color:#000000">76</span><span style="color:#000000"> </span><span style="color:#000000">22]</span></code>
      in
      order, we can write in English how they connect to our
      collection of formulas that we passed:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 641-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>:
            get memory slot 1
         </p>
      </li>
      <li class="itemize">
         <!--l. 642-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">76]</span></code>:
            return the quoted value <code class="lstinline"><span style="color:#000000">76</span></code>
         </p>
      </li>
      <li class="itemize">
         <!--l. 643-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">3]</span></code>:
            increment twice the value in memory
            slot 3 (<code class="lstinline"><span style="color:#000000">20</span></code>)</p>
      </li>
   </ul>
   <!--l. 646-->
   <p class="indent"> So we can pass one small subject (<code
         class="lstinline"><span style="color:#000000">[19</span><span style="color:#000000"> </span><span style="color:#000000">20]</span></code>)
      and make an
      arbitrarily long collection of values from it, using any
      functions we want. Cell-Maker <span class="small-caps">ftw</span>!

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.7 </span> <a id="x1-270002.7"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code>, the Cell
      Detector, and <code class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>,
      the Equality Tester</h4>
   <!--l. 650-->
   <p class="noindent">Now we come to functions/opcodes <code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>, which are pretty
      straightforward after we’ve seen how <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> and the Cell-Maker
      work. Functions <code class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code>
      and <code class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>, like <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>, allow nested
      evaluation.
      Let’s put all their pseudocode deﬁnitions together to
      compare:
   </p>
   <!--l. 652-->
   <pre class="lstlisting" id="listing-167"><span class="label"><a  id="x1-27001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function/opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-27002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">?*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-27003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function/opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span> 
<span class="label"><a  id="x1-27004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-27005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function/opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">5</span></span> 
<span class="label"><a  id="x1-27006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>


   <!--l. 661-->
   <p class="indent"> First of all, notice how the right side of all these “equations”
      has the evaluation operator, <code class="lstinline"><span style="color:#000000">*</span></code>. This means that
      these
      functions can have nested formulas, since they keep evaluating
      all the way down.
   </p><!--l. 663-->
   <p class="indent"> There are some new pseudocode symbols here that we need
      to translate into English. We already know <code class="lstinline"><span style="color:#000000">+</span></code>:
      “increment the
      value after this&#x0022;. Now we also see:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 666-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">?</span></code>: “check whether the
            value after this is a cell. Return
            0 if yes, 1 if no&#x0022;.<span class="footnote-mark"><a href="#fn4x0"><sup
                     class="textsuperscript">4</sup></a></span><a id="x1-27007f4"></a>
         </p>
      </li>
      <li class="itemize">
         <!--l. 667-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">=</span></code>: “ﬁrst run the function
            in <code class="lstinline"><span style="color:#000000">b</span></code> with subject <code
               class="lstinline"><span style="color:#000000">a</span></code> as the
            argument, and same for the function in <code class="lstinline"><span style="color:#000000">c</span></code>.
            If the
            results are equal, return 0, if not, return 1.</p>
      </li>
   </ul>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.1 </span> <a id="x1-280002.7.1"></a>Example: Not a Cell
   </h5>
   <!--l. 673-->
   <pre class="lstlisting" id="listing-175"><span class="label"><a  id="x1-28001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-28002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span> 
<span class="label"><a  id="x1-28003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">OF</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">THE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">ABOVE</span></span> 
<span class="label"><a  id="x1-28004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-28005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">?*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-28006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span> 
<span class="label"><a  id="x1-28007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">?</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50)</span></span> 
<span class="label"><a  id="x1-28008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell?</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">No,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-28009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.2 </span> <a id="x1-290002.7.2"></a>Example: A Cell</h5>
   <!--l. 687-->
   <pre class="lstlisting" id="listing-176"><span class="label"><a  id="x1-29001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-29002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span> 
<span class="label"><a  id="x1-29003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">OF</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">THE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">ABOVE</span></span> 
<span class="label"><a  id="x1-29004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-29005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">?*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-29006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span> 
<span class="label"><a  id="x1-29007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">?</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51])</span></span> 
<span class="label"><a  id="x1-29008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell?</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Yes,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span> 
<span class="label"><a  id="x1-29009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></pre>



   <h5 class="subsubsectionHead"><span class="titlemark">2.7.3 </span> <a id="x1-300002.7.3"></a>Example: Nested Cell
      Evaluation with <code class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>
   </h5>
   <!--l. 701-->
   <pre class="lstlisting" id="listing-178"><span class="label"><a  id="x1-30001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-30002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span> 
<span class="label"><a  id="x1-30003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">OF</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">THE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">ABOVE</span></span> 
<span class="label"><a  id="x1-30004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-30005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-30006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">whatever</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">comes</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function,</span></span> 
<span class="label"><a  id="x1-30007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">re</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">gonna</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increment</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">twice</span></span> 
<span class="label"><a  id="x1-30008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-30009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">down</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">fetching</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-30010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">++?*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-30011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++?</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51])</span></span> 
<span class="label"><a  id="x1-30012r12"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell?</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Yes,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span> 
<span class="label"><a  id="x1-30013r13"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(0)</span></span> 
<span class="label"><a  id="x1-30014r14"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(1)</span></span> 
<span class="label"><a  id="x1-30015r15"></a><span 
class="ec-lmr-5">15</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.4 </span> <a id="x1-310002.7.4"></a>Example: Check Multiple
      Cases of Cells</h5>
   <!--l. 721-->
   <pre class="lstlisting" id="listing-179"><span class="label"><a  id="x1-31001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">52]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]])</span></span> 
<span class="label"><a  id="x1-31002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span> 
<span class="label"><a  id="x1-31003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">52]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-31004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">?</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">52]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-31005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-31006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">yank</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slots</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-31007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">?*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">52]</span></span> 
<span class="label"><a  id="x1-31008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">first</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">second</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">not</span></span> 
<span class="label"><a  id="x1-31009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.5 </span> <a id="x1-320002.7.5"></a>Example: Equality Test
   </h5>
   <!--l. 735-->
   <p class="noindent">Because <code
         class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code> compares the
      results of 2 formulas, it <span class="ec-lmri-10">always </span>makes
      2 inner evaluations of the subject. It’s similar to Cell-Maker in
      this way.
   </p>
   <!--l. 737-->
   <pre class="lstlisting" id="listing-181"><span class="label"><a  id="x1-32001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]])</span></span> 
<span class="label"><a  id="x1-32002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span> 
<span class="label"><a  id="x1-32003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-32004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]</span></span> 
<span class="label"><a  id="x1-32005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span> 
<span class="label"><a  id="x1-32006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]</span></span> 
<span class="label"><a  id="x1-32007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">twice</span></span> 
<span class="label"><a  id="x1-32008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50)</span></span> 
<span class="label"><a  id="x1-32009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.6 </span> <a id="x1-330002.7.6"></a>Example: Comparing Two
      Unequal Values</h5>
   <!--l. 751-->
   <pre class="lstlisting" id="listing-182"><span class="label"><a  id="x1-33001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]])</span></span> 
<span class="label"><a  id="x1-33002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span> 
<span class="label"><a  id="x1-33003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-33004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-33005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span> 
<span class="label"><a  id="x1-33006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-33007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-33008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51)</span></span> 
<span class="label"><a  id="x1-33009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>



   <h5 class="subsubsectionHead"><span class="titlemark">2.7.7 </span> <a id="x1-340002.7.7"></a>Example: Compare Values
      with Function Calls</h5>
   <!--l. 765-->
   <pre class="lstlisting" id="listing-183"><span class="label"><a  id="x1-34001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]])</span></span> 
<span class="label"><a  id="x1-34002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span> 
<span class="label"><a  id="x1-34003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-34004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-34005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span> 
<span class="label"><a  id="x1-34006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-34007r7"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-34008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">+</span></span> 
<span class="label"><a  id="x1-34009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-34010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-34011r11"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slots</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-34012r12"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">+50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span> 
<span class="label"><a  id="x1-34013r13"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">evaluate</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">+</span></span> 
<span class="label"><a  id="x1-34014r14"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([51</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51])</span></span> 
<span class="label"><a  id="x1-34015r15"></a><span 
class="ec-lmr-5">15</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.8 </span> <a id="x1-350002.7.8"></a>Example: Compare Cells
      with Function Calls</h5>
   <!--l. 785-->
   <pre class="lstlisting" id="listing-184"><span class="label"><a  id="x1-35001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]])</span></span> 
<span class="label"><a  id="x1-35002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span> 
<span class="label"><a  id="x1-35003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-35004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]</span></span> 
<span class="label"><a  id="x1-35005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]]]</span></span> 
<span class="label"><a  id="x1-35006r6"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]</span></span> 
<span class="label"><a  id="x1-35007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">first</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">result</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">quoter</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span> 
<span class="label"><a  id="x1-35008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">second</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">result</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">fetch</span></span> 
<span class="label"><a  id="x1-35009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">99]]</span></span> 
<span class="label"><a  id="x1-35010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">true</span></span> 
<span class="label"><a  id="x1-35011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.7.9 </span> <a id="x1-360002.7.9"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code></h5>
   <!--l. 801-->
   <p class="noindent">These along with <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> are known as the
      “axiomatic” functions.
      They exist to implement deﬁnitional logic for the Nock
      speciﬁcation. In particular, the cell check and the equality
      check provide for structural analysis of nouns.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.8 </span> <a id="x1-370002.8"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>, the
      “Subject-Altering” Function</h4>
   <!--l. 806-->
   <p class="noindent">In all our examples so far, the subject has been deﬁned at the
      start when we call the interpreter, and never changes. But
      what if we want to change the subject?
   </p><!--l. 808-->
   <p class="indent"> A diﬀerent subject? Why would we want that? Here’s an
      easy example. Say you found the following piece of Nock code
      on the interwebz:
   </p>
   <!--l. 810-->
   <pre class="lstlisting" id="listing-189"><span class="label"><a  id="x1-37001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span> 
<span class="label"><a  id="x1-37002r2"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span></pre>


   <!--l. 815-->
   <p class="indent"> This is the code for a Nock function that expects a subject
      that is an atom, and decrements that subject by 1. You can
      actually enter it in the Dojo right now:
   </p>
   <!--l. 817-->
   <pre class="lstlisting" id="listing-190"><span class="label"><a  id="x1-37003r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-37004r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">99</span></span></pre>
   <!--l. 822-->
   <p class="noindent">This works! You do not have to understand the code right
      now; just try entering diﬀerent numbers instead of <code
         class="lstinline"><span style="color:#000000">100</span></code> to see
      the program working.
   </p><!--l. 825-->
   <p class="indent"> But now imagine that I have a Nock program with a
      diﬀerent subject
   </p>
   <!--l. 827-->
   <pre class="lstlisting" id="listing-192"><span class="label"><a  id="x1-37005r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">some-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span></pre>
   <!--l. 831-->
   <p class="indent"> And somewhere inside <code
         class="lstinline"><span style="color:#000000">some-formula</span></code>, I want to
      decrement the number <code class="lstinline"><span style="color:#000000">51</span></code>. I can’t pass <code
         class="lstinline"><span style="color:#000000">[50</span><span style="color:#000000"> </span><span style="color:#000000">51]</span></code>
      as the
      subject to my decrementer code above though, because that’s
      a cell, and it expects just an atom (a number).

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.8.1 </span> <a id="x1-380002.8.1"></a>Subject Altering to the
      Rescue</h5>
   <!--l. 835-->
   <p class="noindent">The function/opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> is designed to
      handle this problem for
      us. First the pseudocode:
   </p>
   <!--l. 837-->
   <pre class="lstlisting" id="listing-197"><span class="label"><a  id="x1-38001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 841-->
   <p class="indent"> <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>
      expects 2 formulas after the subject <code class="lstinline"><span style="color:#000000">a</span></code>: <code
         class="lstinline"><span style="color:#000000">b</span></code> and <code
         class="lstinline"><span style="color:#000000">c</span></code>. With
      those, it:
   </p><!--l. 843-->
   <p class="indent">
   </p>
   <ol class="enumerate1">


      <li class="enumerate" id="x1-38003x1">
         <!--l. 844-->
         <p class="noindent">runs formula <code class="lstinline"><span style="color:#000000">b</span></code> against
            the subject to set up a new
            environment/subject derived from the subject
         </p>
      </li>
      <li class="enumerate" id="x1-38005x2">
         <!--l. 845-->
         <p class="noindent">runs formula <code class="lstinline"><span style="color:#000000">c</span></code> against
            the subject to prepare a 2nd
            function
         </p>
      </li>
      <li class="enumerate" id="x1-38007x3">
         <!--l. 846-->
         <p class="noindent">run that 2nd function against the new
            environment/subject from step (1)</p>
      </li>
   </ol>
   <!--l. 849-->
   <p class="indent"> Note that the pseudocode for <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> has nested <code
         class="lstinline"><span style="color:#000000">*</span></code>s.
   </p>
   <!--l. 851-->
   <pre class="lstlisting" id="listing-206"><span class="label"><a  id="x1-38008r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 855-->
   <p class="indent"> The two inner <code class="lstinline"><span style="color:#000000">*</span></code>s run steps (1)
      and (2), and the outer one,
      around the whole expression, runs step (3).

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">2.8.2 </span> <a id="x1-390002.8.2"></a>Example: Change the
      Subject and Call a Constant
      Value</h5>
   <!--l. 859-->
   <pre class="lstlisting" id="listing-208"><span class="label"><a  id="x1-39001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]])</span></span> 
<span class="label"><a  id="x1-39002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span> 
<span class="label"><a  id="x1-39003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-39004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]]</span></span> 
<span class="label"><a  id="x1-39005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">separate</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">c</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">each</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">run</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">against</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">steps</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2)</span></span> 
<span class="label"><a  id="x1-39006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]]</span></span> 
<span class="label"><a  id="x1-39007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">after</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">steps</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">have</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">new</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">!</span></span> 
<span class="label"><a  id="x1-39008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">note</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">how</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">re</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">back</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">normal</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">form</span></span> 
<span class="label"><a  id="x1-39009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[51</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-39010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">apply</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">function</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">re</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">used</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span> 
<span class="label"><a  id="x1-39011r11"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[51</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-39012r12"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">from</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-39013r13"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(51)</span></span> 
<span class="label"><a  id="x1-39014r14"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span></pre>



   <h5 class="subsubsectionHead"><span class="titlemark">2.8.3 </span> <a id="x1-400002.8.3"></a>Example: Grab a Block
      of Code from the Subject
      and Run It</h5>
   <!--l. 878-->
   <p class="noindent">Think of this as grabbing a “stored procedure” from the
      subject.
   </p>
   <!--l. 880-->
   <pre class="lstlisting" id="listing-209"><span class="label"><a  id="x1-40001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]])</span></span> 
<span class="label"><a  id="x1-40002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span> 
<span class="label"><a  id="x1-40003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[[4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51]</span></span> 
<span class="label"><a  id="x1-40004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]</span></span> 
<span class="label"><a  id="x1-40005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span> 
<span class="label"><a  id="x1-40006r6"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]]]</span></span> 
<span class="label"><a  id="x1-40007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">step</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">gets</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">step</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grabs</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-40008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[51</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-40009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">looks</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">like</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">normal</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">me!</span></span> 
<span class="label"><a  id="x1-40010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[51</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-40011r11"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span> 
<span class="label"><a  id="x1-40012r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(51)</span></span> 
<span class="label"><a  id="x1-40013r13"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">52</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.8.4 </span> <a id="x1-410002.8.4"></a>Example: Back to Our
      Motivating Case</h5>
   <!--l. 898-->
   <p class="noindent">Remember our decrementing block of code that we couldn’t
      use when the subject was <code
         class="lstinline"><span style="color:#000000">[50</span><span style="color:#000000"> </span><span style="color:#000000">51]</span></code>,
      instead of just an
      atom? Opcode <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>
      makes handling that issue a piece of
      cake.
   </p><!--l. 900-->
   <p class="indent"> We simply use <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> to transform our
      subject into an atom,
      and use <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> to
      quote the decrement block of code before it
      evaluates in step (3).
   </p>
   <!--l. 902-->
   <pre class="lstlisting" id="listing-214"><span class="label"><a  id="x1-41001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]])</span></span> 
<span class="label"><a  id="x1-41002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">49</span></span> 
<span class="label"><a  id="x1-41003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[50</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">51])</span></span> 
<span class="label"><a  id="x1-41004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;decrement-formula</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">substituted</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">for</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">clarity</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-41005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">decrement-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]]</span></span> 
<span class="label"><a  id="x1-41006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">decrement-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]]</span></span> 
<span class="label"><a  id="x1-41007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">decrement-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-41008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">decrement-formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">has</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">atom</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">wants</span></span> 
<span class="label"><a  id="x1-41009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">49</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">2.8.5 </span> <a id="x1-420002.8.5"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code></h5>
   <!--l. 916-->
   <p class="noindent">For those who know a bit of Hoon, the second example above
      is rather similar to calling an arm that produces a gate, and
      then running the gate. Most of Hoon runs this type of
      stored-procedure plus subject-altering Nock, and it all uses
      opcode <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> at its
      base.
   </p><!--l. 918-->
   <p class="indent"> And for those who know Hoon, <code
         class="lstinline"><span style="color:#000000">[[4</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000"> </span><span style="color:#000000">1]</span><span style="color:#000000"> </span><span style="color:#000000">51]</span></code>
      should
      already be looking a lot like <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">battery</span><span style="color:#000000"> </span><span style="color:#000000">payload</span><span style="color:#000000">]</span></code>…
      that’s
      not a coincidence. We’re starting to see the ﬁrst glimpses of
      how Hoon’s cores, arms and subjects/subject mutations ﬂow


      out of the fundamental structure of Nock.
   </p><!--l. 920-->
   <p class="indent"> We also see how Hoon/Nock lend themselves well to
      throwing around chunks of code, and adjusting the subject as
      necessary to create the correct subject/environment against
      which to run that code.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">2.9 </span> <a id="x1-430002.9"></a>Summary of Fundamental Opcodes
   </h4>
   <!--l. 924-->
   <p class="noindent">You now have seen all the fundamental functions/opcodes in
      Nock. In the next part, I’ll introduce the remaining functions,
      which no longer need pseudocode: we have enough scaﬀolding
      now to build the rest of Nock from Nock itself. Instead, these
      new opcodes will just be shortcuts/macros/code expansions
      building on opcodes <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>–<code
         class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>.
   </p><!--l. 928-->
   <p class="indent"> We’ll also start to connect Nock to Hoon, and see how
      most of the fundamental (and slightly weird) features of Hoon
      ﬂow directly from Nock’s structure, and make a lot more sense
      in combination with it.

   </p>
   <h3 class="sectionHead"><span class="titlemark">3 </span> <a id="x1-440003"></a>Composite Opcodes</h3>
   <!--l. 932-->
   <p class="noindent">A word of encouragement: we’re done with the hard part now.
      Every Nock function we learn in this section will be built from
      pieces in the preceding section.
   </p><!--l. 934-->
   <p class="indent"> None of these new functions are <span class="ec-lmri-10">necessary </span>to make Nock
      work. All of them except Nock <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code> and <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> are syntactic
      sugar
      that is part of the Nock deﬁnition, and must be built into
      every correct Nock implementation. If you have seen macros or
      code expansions in other languages, that’s another word for
      what’s happening here.
   </p><!--l. 936-->
   <p class="indent"> Nock <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code> makes it easier
      to replace a memory value
      somewhere in a tree, and Nock <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> allows passing
      hints to the
      interpreter.


   </p><!--l. 938-->
   <p class="indent"> One point of clarity: this syntactic sugar/code-expansion
      system is <span class="ec-lmri-10">not </span>extensible. This means that you can’t invent
      your own Nock opcodes and still have that language be Nock;
      you’re making a higher-level language on top of Nock at that
      point.
   </p><!--l. 940-->
   <p class="indent"> In fact, that’s not a bad way to think of Hoon: it’s a
      higher-level language that adds missing syntatic sugar/macros
      and human-readable names to Nock. (That’s not the whole
      story, but it’s a decent mental peg to initially hang Hoon
      on.)
   </p><!--l. 942-->
   <p class="indent"> Nock is intentionally very, very small, such that you can
      always walk through and analyze what is happening in a block
      of code if you know Nock’s opcodes.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.1 </span> <a id="x1-450003.1"></a>An Aside About the <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> (Quoter Function)
   </h4>
   <!--l. 946-->
   <p class="noindent">You’re going to see the <code
         class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code> opcode (the
      “Quoter”) appear in a
      lot of examples below for a simple reason: the <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>-<code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> opcodes
      expect formulas in a lot of places, not just atoms. And, as
      we’ve seen already, formulas have to be cells.
   </p><!--l. 948-->
   <p class="indent"> Whenever a formula is required, but you really just want
      to return a number, you use the quoter function.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.1.1 </span> <a id="x1-460003.1.1"></a>Example: Incrementing a
      Constant</h5>
   <!--l. 952-->
   <pre class="lstlisting" id="listing-229"><span class="label"><a  id="x1-46001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">We</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">want</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">run</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">on</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">number</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span> 
<span class="label"><a  id="x1-46002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">but</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">expects</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">after</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">use</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">5]</span></span> 
<span class="label"><a  id="x1-46003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5])</span></span> 
<span class="label"><a  id="x1-46004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">3.1.2 </span> <a id="x1-470003.1.2"></a>Example: Comparing a
      Memory Slot to a Constant
      Value</h5>


   <!--l. 961-->
   <pre class="lstlisting" id="listing-230"><span class="label"><a  id="x1-47001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-47002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">then</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">has</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">be</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">compared</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">result</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span> 
<span class="label"><a  id="x1-47003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">so</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">use</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">23]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">23</span></span> 
<span class="label"><a  id="x1-47004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([23</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">23]])</span></span> 
<span class="label"><a  id="x1-47005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></pre>

   <h4 class="subsectionHead"><span class="titlemark">3.2 </span> <a id="x1-480003.2"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>, “If/Else”
      Conditional Branch</h4>
   <!--l. 971-->
   <p class="noindent">The remaining Nock opcodes are “sugar”. This means that the
      functions in this next part will use only <code class="lstinline"><span style="color:#000000">*</span></code> and
      Nock code in
      their pseudocode. For example, here is the code for <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>, the
      “If/Else&#x0022; function.
   </p>
   <!--l. 973-->
   <pre class="lstlisting" id="listing-234"><span class="label"><a  id="x1-48001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]]]</span></span></pre>
   <!--l. 977-->
   <p class="indent"> The prose explanation of what’s happening is
      straightforward:
   </p><!--l. 979-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-48003x1">
         <!--l. 980-->
         <p class="noindent">Evaluate <code class="lstinline"><span style="color:#000000">b</span></code> against the
            subject <code class="lstinline"><span style="color:#000000">a</span></code> (<code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>)
            to see
            whether it’s <code class="lstinline"><span style="color:#000000">0</span></code>/true or <code
               class="lstinline"><span style="color:#000000">1</span></code>/false.
         </p>
      </li>
      <li class="enumerate" id="x1-48005x2">
         <!--l. 981-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">b</span></code> equals <code
               class="lstinline"><span style="color:#000000">0</span></code>/true, run formula <code
               class="lstinline"><span style="color:#000000">c</span></code> against subject <code
               class="lstinline"><span style="color:#000000">a</span></code>.
         </p>
      </li>
      <li class="enumerate" id="x1-48007x3">
         <!--l. 982-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">b</span></code> equals <code
               class="lstinline"><span style="color:#000000">1</span></code>/false, run formula <code
               class="lstinline"><span style="color:#000000">d</span></code> against subject <code
               class="lstinline"><span style="color:#000000">a</span></code>.
         </p>
      </li>


      <li class="enumerate" id="x1-48009x4">
         <!--l. 983-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">b</span></code> is not equal to
            <code class="lstinline"><span style="color:#000000">0</span></code> or <code
               class="lstinline"><span style="color:#000000">1</span></code>, the code crashes, for
            reasons we’ll see in the code explanation.</p>
      </li>
   </ol>

   <h5 class="subsubsectionHead"><span class="titlemark">3.2.1 </span> <a id="x1-490003.2.1"></a>Code Explanation (Way
      More Fun)</h5>
   <!--l. 988-->
   <p class="noindent">OK, so that’s the English version. The code explanation (the
      right side of the deﬁnition) is <span class="ec-lmri-10">really fun </span>now that we know the
      basic Nock opcodes.
   </p><!--l. 990-->
   <p class="indent"> The pseudocode has four nested <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">subject</span><span style="color:#000000"> </span><span style="color:#000000">formula</span><span style="color:#000000">]</span></code>s,
      so I’m going to unwrap those to the bottom, and then build it
      up again. The layers are, in order:
   </p><!--l. 992-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-49002x1">
         <!--l. 993-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">...</span><span style="color:#000000">]</span></code>,
            i.e. subject <code class="lstinline"><span style="color:#000000">a</span></code> evaluated against that long
            formula starting with <code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[[</span><span style="color:#000000">c</span><span style="color:#000000"> </span><span style="color:#000000">d</span><span style="color:#000000">]</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">...</span><span style="color:#000000">]</span></code>.
         </p>
      </li>
      <li class="enumerate" id="x1-49004x2">
         <!--l. 994-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">c</span><span style="color:#000000"> </span><span style="color:#000000">d</span><span style="color:#000000">]</span></code>,
            i.e. subject <code class="lstinline"><span style="color:#000000">c</span></code> evaluated against the
            formula
            starting with <code
               class="lstinline"><span style="color:#000000">[[2</span><span style="color:#000000"> </span><span style="color:#000000">3</span><span style="color:#000000"> </span><span style="color:#000000">...</span><span style="color:#000000">]</span></code>.
         </p>
      </li>
      <li class="enumerate" id="x1-49006x3">
         <!--l. 995-->
         <p class="noindent"><code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[2</span><span style="color:#000000"> </span><span style="color:#000000">3]</span></code>,
            i.e. subject <code class="lstinline"><span style="color:#000000">2</span></code> evaluated against the
            lowest-level formula.
         </p>
      </li>
      <li class="enumerate" id="x1-49008x4">
         <!--l. 996-->
         <p class="noindent">Finally, subject <code class="lstinline"><span style="color:#000000">a</span></code>
            evaluated against formula
            <code
               class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>.
         </p>
      </li>
   </ol>



   <h5 class="subsubsectionHead"><span class="titlemark">3.2.2 </span> <a id="x1-500003.2.2"></a>Step 4</h5>
   <!--l. 1001-->
   <p class="noindent">Remember, our English explanation was “see if <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      is
      true or false, and do diﬀerent actions depending on that. Step
      Four is that check.
   </p><!--l. 1003-->
   <p class="indent"> Let’s say we have <code class="lstinline"><span style="color:#000000">a</span></code> as <code
         class="lstinline"><span style="color:#000000">59</span></code>, and <code
         class="lstinline"><span style="color:#000000">b</span></code> as the quoted value
      <code class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>/true.
   </p>
   <!--l. 1005-->
   <pre class="lstlisting" id="listing-267"><span class="label"><a  id="x1-50001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-50002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">59</span></span> 
<span class="label"><a  id="x1-50003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0]</span></span> 
<span class="label"><a  id="x1-50004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[59</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span> 
<span class="label"><a  id="x1-50005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">substitute</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">two</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increment</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">operators</span></span> 
<span class="label"><a  id="x1-50006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[59</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span> 
<span class="label"><a  id="x1-50007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">ignore</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">quoted</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span> 
<span class="label"><a  id="x1-50008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(0)</span></span> 
<span class="label"><a  id="x1-50009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></pre>
   <!--l. 1017-->
   <p class="indent"> In summary, because <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      evaluated to <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>/true, we get
      the number <code class="lstinline"><span style="color:#000000">2</span></code>. If <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      had been <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>/false,
      we’d get <code class="lstinline"><span style="color:#000000">3</span></code>
      (because we’d evaluate <code
         class="lstinline"><span style="color:#000000">++</span><span style="color:#000000">(1)</span></code>).
   </p><!--l. 1019-->
   <p class="indent"> What the heck? Why are we getting <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> or <code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code> back? How
      does that help us?? Well, Nock uses that returned <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> or <code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code> as
      a <span class="ec-lmri-10">memory slot</span>, and executes the code in that memory
      slot.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.3 </span> <a id="x1-510003.2.3"></a>Step 3</h5>
   <!--l. 1023-->
   <p class="noindent">Now we go up to step 3, with the subject <code
         class="lstinline"><span style="color:#000000">[2</span><span style="color:#000000"> </span><span style="color:#000000">3]</span></code>
      evaluated
      against our return value from step 4. Let’s imagine that <code
         class="lstinline"><span style="color:#000000">2</span></code> had
      been returned:
   </p>
   <!--l. 1025-->
   <pre class="lstlisting" id="listing-281"><span class="label"><a  id="x1-51001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">remember,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;result-of-step-4</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">was</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-51002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">result-of-step-4</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-51003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span> 
<span class="label"><a  id="x1-51004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-51005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></pre>
   <!--l. 1033-->
   <p class="indent"> This grabs memory slot <code class="lstinline"><span style="color:#000000">2</span></code> if
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      was true, and
      memory slot <code class="lstinline"><span style="color:#000000">3</span></code> if <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      was false.
   </p><!--l. 1035-->
   <p class="indent"> Wait, isn’t this redundant? We are just using our <code
         class="lstinline"><span style="color:#000000">2</span></code>
      or <code class="lstinline"><span style="color:#000000">3</span></code> generated in step 4 to generate a <code
         class="lstinline"><span style="color:#000000">2</span></code> or a <code
         class="lstinline"><span style="color:#000000">3</span></code>. Seems
      dumb.
   </p><!--l. 1037-->
   <p class="indent"> The answer is that we make sure that a crash happens if
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      yields any answer other than <code class="lstinline"><span style="color:#000000">0</span></code>/true or <code
         class="lstinline"><span style="color:#000000">1</span></code>/false. If


      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      returned <code class="lstinline"><span style="color:#000000">10</span></code>, for example, we’d have the
      following
      code in step 3:
   </p>
   <!--l. 1039-->
   <pre class="lstlisting" id="listing-295"><span class="label"><a  id="x1-51006r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]</span></span> 
<span class="label"><a  id="x1-51007r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">there</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">no</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">10</span></span> 
<span class="label"><a  id="x1-51008r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">CRASH!!</span></span></pre>
   <!--l. 1045-->
   <p class="indent"> This is exactly what we want: the program crashes unless we are doing
      a loobean<span class="footnote-mark"><a href="#fn5x0"><sup class="textsuperscript">5</sup></a></span><a
         id="x1-51009f5"></a>
      test that returns a <code class="lstinline"><span style="color:#000000">0</span></code> or <code
         class="lstinline"><span style="color:#000000">1</span></code> (converted to an indicial <code
         class="lstinline"><span style="color:#000000">2</span></code> or <code
         class="lstinline"><span style="color:#000000">3</span></code>) in
      step 4.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.4 </span> <a id="x1-520003.2.4"></a>Step 2</h5>
   <!--l. 1049-->
   <p class="noindent">We now have our validated <code class="lstinline"><span style="color:#000000">2</span></code> or
      <code class="lstinline"><span style="color:#000000">3</span></code> to plug into step 2.
      Let’s imagine <code class="lstinline"><span style="color:#000000">c</span></code> is the simple formula <code
         class="lstinline"><span style="color:#000000">[0</span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>
      and <code class="lstinline"><span style="color:#000000">d</span></code> is
      <code
         class="lstinline"><span style="color:#000000">[1</span><span style="color:#000000"> </span><span style="color:#000000">203]</span></code>.
   </p>
   <!--l. 1051-->
   <pre class="lstlisting" id="listing-306"><span class="label"><a  id="x1-52001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">if</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">step</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">returned</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;2</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">true</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-52002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">203]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span> 
<span class="label"><a  id="x1-52003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span></pre>
   <!--l. 1057-->
   <p class="indent"> Not much to see here: we just grab memory slot <code
         class="lstinline"><span style="color:#000000">2</span></code> or <code
         class="lstinline"><span style="color:#000000">3</span></code>
      depending on whether our initial <code class="lstinline"><span style="color:#000000">b</span></code> was true or
      false.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.5 </span> <a id="x1-530003.2.5"></a>Step 1</h5>
   <!--l. 1061-->
   <p class="noindent">And now we’re back at the top level, where we just use
      whichever formula we yoinked in step 2 and run it against
      <code class="lstinline"><span style="color:#000000">a</span></code>.
   </p>
   <!--l. 1063-->


   <pre class="lstlisting" id="listing-311"><span class="label"><a  id="x1-53001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">formula-from-step-2</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-53002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">let</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">say</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">returned</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1]</span></span> 
<span class="label"><a  id="x1-53003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">original</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">from</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">step</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">was</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">59</span></span> 
<span class="label"><a  id="x1-53004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[59</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-53005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">59</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">3.2.6 </span> <a id="x1-540003.2.6"></a>Example: Code Expansion
      of <code class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code></h5>
   <!--l. 1073-->
   <pre class="lstlisting" id="listing-313"><span class="label"><a  id="x1-54001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]])</span></span> 
<span class="label"><a  id="x1-54002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-54003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">c</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">d</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[[2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">*</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">]]]]</span></span> 
<span class="label"><a  id="x1-54004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]]]</span></span> 
<span class="label"><a  id="x1-54005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcodes</span></span> 
<span class="label"><a  id="x1-54006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]]]</span></span> 
<span class="label"><a  id="x1-54007r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">evaluates</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">yank</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1)</span></span> 
<span class="label"><a  id="x1-54008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(1)</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]]</span></span> 
<span class="label"><a  id="x1-54009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">evaluate</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">two</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increments</span></span> 
<span class="label"><a  id="x1-54010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-54011r11"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">from</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3]</span></span> 
<span class="label"><a  id="x1-54012r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span> 
<span class="label"><a  id="x1-54013r13"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">means</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">from</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1])</span></span> 
<span class="label"><a  id="x1-54014r14"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-54015r15"></a><span 
class="ec-lmr-5">15</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">factor</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">out</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span> 
<span class="label"><a  id="x1-54016r16"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-54017r17"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(1)</span></span> 
<span class="label"><a  id="x1-54018r18"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">3.2.7 </span> <a id="x1-550003.2.7"></a>Summary of <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code></h5>
   <!--l. 1096-->
   <p class="noindent">Now I’m going to make you a little sad. Most Nock interpreters
      don’t do this whole awesome code expansion. They just see <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>,
      and implement an if/else check with a crash if <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      isn’t a
      loobean.
   </p><!--l. 1098-->
   <p class="indent"> However, the pattern of storing chunks of code in memory
      and pulling them out when you want them is the most
      important part of Nock. In fact, those of you who know Hoon
      are probably already seeing the makings of the “core” code
      pattern.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.3 </span> <a id="x1-560003.3"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code>, the “Composition”
      Opcode</h4>
   <!--l. 1102-->
   <p class="noindent"><code
         class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code> is so simple we
      barely need to spend time on it. All it does is
      create a new subject/environment (using <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>), and immediately
      runs a formula against that new subject. Let’s compare it to
      <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>:
   </p>
   <!--l. 1104-->
   <pre class="lstlisting" id="listing-321"><span class="label"><a  id="x1-56001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">7</span></span> 
<span class="label"><a  id="x1-56002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-56003r3"></a></span> 
<span class="label"><a  id="x1-56004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-56005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>


   <!--l. 1112-->
   <p class="indent"> This is almost exactly the same except with <code
         class="lstinline"><span style="color:#000000">c</span></code> instead of
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>.
      This means that you can write a “subject-changing&#x0022;
      formula in <code class="lstinline"><span style="color:#000000">b</span></code>, and then run a simple function
      against that in
      <code class="lstinline"><span style="color:#000000">c</span></code>.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.3.1 </span> <a id="x1-570003.3.1"></a>Example: Opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> vs. Opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code></h5>
   <!--l. 1116-->
   <pre class="lstlisting" id="listing-328"><span class="label"><a  id="x1-57001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">using</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-57002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([23</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]])</span></span> 
<span class="label"><a  id="x1-57003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">46</span></span> 
<span class="label"><a  id="x1-57004r4"></a></span> 
<span class="label"><a  id="x1-57005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">using</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">7</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">--</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">get</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">remove</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">quoter</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;1</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x0022;</span></span> 
<span class="label"><a  id="x1-57006r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">wow</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">amazing</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">/sarcasm</span></span> 
<span class="label"><a  id="x1-57007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([23</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]])</span></span> 
<span class="label"><a  id="x1-57008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">46</span></span></pre>
   <!--l. 1127-->
   <p class="noindent">Opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code> is clearly
      trivial, so why does it exist? It allows
      clean expression of function composition: this is really
      <code
         class="lstinline"><span style="color:#000000">c</span><span style="color:#000000">(</span><span style="color:#000000">b</span><span style="color:#000000">(</span><span style="color:#000000">a</span><span style="color:#000000">)</span><span style="color:#000000">)</span></code>,
      where <code class="lstinline"><span style="color:#000000">a</span></code> (the subject) is the initial argument,
      and <code class="lstinline"><span style="color:#000000">b</span></code>
      and <code class="lstinline"><span style="color:#000000">c</span></code> are functions. This pattern comes up a
      ton, and it’s nice
      to not use <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>s
      everywhere.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.4 </span> <a id="x1-580003.4"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code>, the “Variable
      Push” Opcode</h4>
   <!--l. 1131-->
   <p class="noindent">If you’re ever writing Nock and think “how can I add a new
      variable to the subject?&#x0022;, opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code> is what you want.
      The new
      variable can be based on either the existing subject, or be a
      new value you add on.
   </p>
   <!--l. 1133-->
   <pre class="lstlisting" id="listing-337"><span class="label"><a  id="x1-58001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 1137-->
   <p class="indent"> This says to run <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>,
      and then make that the head of
      a new subject, with the old subject <code class="lstinline"><span style="color:#000000">a</span></code> as the new
      subject’s
      tail.



   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.4.1 </span> <a id="x1-590003.4.1"></a>Example: Add Variable
      as a Copied Value from an
      Existing Subject</h5>
   <!--l. 1141-->
   <p class="noindent">In English, the below code ﬁrst yanks the variable from
      memory slot 3, copies it to the head of a new subject, and
      then increments the value in that new head.
   </p>
   <!--l. 1143-->
   <pre class="lstlisting" id="listing-340"><span class="label"><a  id="x1-59001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]])</span></span> 
<span class="label"><a  id="x1-59002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">40</span></span> 
<span class="label"><a  id="x1-59003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-59004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-59005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">yanks</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">pins</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">front</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">old</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span> 
<span class="label"><a  id="x1-59006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[39</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-59007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[39</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-59008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(39)</span></span> 
<span class="label"><a  id="x1-59009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">40</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">3.4.2 </span> <a id="x1-600003.4.2"></a>Example: Add Variable
      as a New Value</h5>
   <!--l. 1157-->
   <pre class="lstlisting" id="listing-341"><span class="label"><a  id="x1-60001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]])</span></span> 
<span class="label"><a  id="x1-60002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span> 
<span class="label"><a  id="x1-60003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-60004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-60005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-60006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[67</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">39]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-60007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(0)</span></span> 
<span class="label"><a  id="x1-60008r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>
   <!--l. 1168-->
   <p class="noindent">Why do we want this? In the ﬁrst example, we pin a copy of a
      value so that we can manipulate it without changing the
      original. In the second example, we add a <code
         class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code> to the front;
      maybe we want to increment it until some condition is
      met?
   </p><!--l. 1170-->
   <p class="indent"> The above should be starting to feel <span class="ec-lmri-10">very </span>Hoon-ish: we’re a
      minor code transform away from pinning new values to the
      head of a payload.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.5 </span> <a id="x1-610003.5"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>, Run a Stored
      Procedure Arm in a Core</h4>
   <!--l. 1174-->
   <p class="noindent">We’re almost at full Hoon now, although still at a very
      low/raw level. <code class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>
      looks a little complicated...
   </p>
   <!--l. 1176-->
   <pre class="lstlisting" id="listing-345"><span class="label"><a  id="x1-61001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>


   <!--l. 1180-->
   <p class="noindent">... but in English, this is just saying:
   </p><!--l. 1183-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-61003x1">
         <!--l. 1184-->
         <p class="noindent">Use formula <code class="lstinline"><span style="color:#000000">c</span></code> to make a
            new subject from <code class="lstinline"><span style="color:#000000">a</span></code>
            (<code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>).
         </p>
      </li>
      <li class="enumerate" id="x1-61005x2">
         <!--l. 1185-->
         <p class="noindent">Grab the formula located at memory slot <code
               class="lstinline"><span style="color:#000000">b</span></code> in that
            new subject.
         </p>
      </li>
      <li class="enumerate" id="x1-61007x3">
         <!--l. 1186-->
         <p class="noindent">Run that formula against the new subject <code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>.
         </p>
      </li>
   </ol>
   <!--l. 1189-->
   <p class="noindent">The fact that the above description has the words “make a
      new subject&#x0022; tells us right away that it’s syntactic sugar for
      opcode <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>, and
      that’s indeed what we see in the pseudocode.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.5.1 </span> <a id="x1-620003.5.1"></a>Example: Using <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> to Run an
      Increment Arm</h5>
   <!--l. 1194-->
   <p class="noindent">The initial expression here likely looks cryptic, but if you
      follow the pseudocode, it will become clear.
   </p><!--l. 1196-->
   <p class="indent"> To stay oriented, remember that, if we’re thinking of <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> as
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">9</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>,
      then
   </p>
   <!--l. 1198-->
   <pre class="lstlisting" id="listing-355"><span class="label"><a  id="x1-62001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">a:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45</span></span> 
<span class="label"><a  id="x1-62002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">b:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span> 
<span class="label"><a  id="x1-62003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">c:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span></pre>
   <!--l. 1204-->


   <pre class="lstlisting" id="listing-356"><span class="label"><a  id="x1-62004r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(45</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-62005r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">46</span></span> 
<span class="label"><a  id="x1-62006r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-62007r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[45</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]</span></span> 
<span class="label"><a  id="x1-62008r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[45</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span> 
<span class="label"><a  id="x1-62009r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">new</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[[4</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">45]</span></span> 
<span class="label"><a  id="x1-62010r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increment</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span> 
<span class="label"><a  id="x1-62011r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">head;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">45</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span> 
<span class="label"><a  id="x1-62012r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span> 
<span class="label"><a  id="x1-62013r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">expand</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-62014r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span> 
<span class="label"><a  id="x1-62015r12"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]]</span></span> 
<span class="label"><a  id="x1-62016r13"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">becomes</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">new</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span> 
<span class="label"><a  id="x1-62017r14"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span> 
<span class="label"><a  id="x1-62018r15"></a><span 
class="ec-lmr-5">15</span></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">45]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span> 
<span class="label"><a  id="x1-62019r16"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span> 
<span class="label"><a  id="x1-62020r17"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(45)</span></span> 
<span class="label"><a  id="x1-62021r18"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">46</span></span></pre>
   <!--l. 1225-->
   <p class="indent"> We start above with a subject that is not a core; it’s just
      the atom <code class="lstinline"><span style="color:#000000">45</span></code>. The code for <code
         class="lstinline"><span style="color:#000000">c</span></code> is then:
   </p>
   <!--l. 1227-->
   <pre class="lstlisting" id="listing-359"><span class="label"><a  id="x1-62022r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span></pre>
   <!--l. 1231-->
   <p class="indent"> This formula uses the Cell Maker (Distribution Rule) to
      insert <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">3]</span></code>
      as the head of the new subject, and puts mem
      slot <code class="lstinline"><span style="color:#000000">1</span></code> of the old subject as the tail, so we get
      a new subject of
      <code
         class="lstinline"><span style="color:#000000">[[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">3]</span><span style="color:#000000"> </span><span style="color:#000000">45]</span></code>.
   </p><!--l. 1233-->
   <p class="indent"> What we do next is use <code class="lstinline"><span style="color:#000000">b</span></code> (here,
      <code class="lstinline"><span style="color:#000000">2</span></code>) to select memory slot <code
         class="lstinline"><span style="color:#000000">2</span></code>
      from that new subject. Memory slot <code class="lstinline"><span style="color:#000000">2</span></code> is a
      formula: <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">3]</span></code>.
      We run that formula against the new subject.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.5.2 </span> <a id="x1-630003.5.2"></a>Key Point/Possible
      Confusion</h5>
   <!--l. 1237-->
   <p class="noindent">When I ﬁrst saw <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>, I thought: “why
      didn’t they just use <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> to
      make the transformed subject? Why is there an extra step to
      use <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>
      to pull the new <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>
      subject? Why can’t we do
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">2</span></span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]]</span></code>?
   </p><!--l. 1239-->
   <p class="indent"> The answer is that we actually use the <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>
      subject
      <span class="ec-lmri-10">twice</span>:
   </p><!--l. 1241-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-63002x1">
         <!--l. 1242-->
         <p class="noindent">We extract from it the formula located at memory
            slot <code class="lstinline"><span style="color:#000000">b</span></code>.
         </p>
      </li>
      <li class="enumerate" id="x1-63004x2">


         <!--l. 1243-->
         <p class="noindent">Then we run <span class="ec-lmri-10">that </span>formula against the <code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>
            subject.</p>
      </li>
   </ol>
   <!--l. 1246-->
   <p class="indent"> If we just did <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">2</span></span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]]</span></code>,
      then <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000">]</span></code>
      would try
      to look up the <code class="lstinline"><span style="color:#000000">b</span></code> memory slot in <code
         class="lstinline"><span style="color:#000000">a</span></code>, <span class="small-caps">not</span> <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>.
      So <code class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> gives us
      one extra step to set up the core itself.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.5.3 </span> <a id="x1-640003.5.3"></a>How to Think of <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code></h5>
   <!--l. 1250-->
   <p class="noindent">I like to think of <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> as having three
      parts:
   </p><!--l. 1252-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-64002x1">
         <!--l. 1253-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">c</span></code>: our formula to set up
            the subject, making a new
            subject.
         </p>
      </li>
      <li class="enumerate" id="x1-64004x2">
         <!--l. 1254-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">b</span></code>: the memory slot in our
            new subject where an arm
            is.
         </p>
      </li>
      <li class="enumerate" id="x1-64006x3">
         <!--l. 1255-->
         <p class="noindent">Run the arm located at <code class="lstinline"><span style="color:#000000">b</span></code>
            against the new subject.</p>
      </li>
   </ol>
   <!--l. 1258-->
   <p class="noindent">You can think of this as setting up a subject, pulling a stored
      procedure from it, and then running that procedure against
      the subject.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.6 </span> <a id="x1-650003.6"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code>, Replace a Memory
      Slot</h4>


   <!--l. 1263-->
   <p class="noindent">Before explaining <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code>, we need to
      introduce a new operator, <code class="lstinline"><span style="color:#000000">#</span></code>
      hax. <code class="lstinline"><span style="color:#000000">#</span></code> hax is the “edit&#x0022; operator. It has
      the form
   </p>
   <!--l. 1265-->
   <pre class="lstlisting" id="listing-391"><span class="label"><a  id="x1-65001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">mem-slot</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">new-val</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">target-tree</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 1269-->
   <p class="noindent">It replaces the memory slot <code
         class="lstinline"><span style="color:#000000">mem-slot</span></code> in <code
         class="lstinline"><span style="color:#000000">target-tree</span></code> with
      <code class="lstinline"><span style="color:#000000">new-val</span></code>.
   </p>
   <!--l. 1272-->
   <pre class="lstlisting" id="listing-395"><span class="label"><a  id="x1-65002r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Example</span></span> 
<span class="label"><a  id="x1-65003r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[99</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">88</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">77]]</span></span> 
<span class="label"><a  id="x1-65004r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">88</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">77]</span></span></pre>
   <!--l. 1278-->
   <p class="noindent">The pseudocode for <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code> is:
   </p>
   <!--l. 1281-->
   <pre class="lstlisting" id="listing-397"><span class="label"><a  id="x1-65005r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span></pre>
   <!--l. 1285-->
   <p class="indent"> In English, this ﬁrst calculates <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>
      and <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">d</span><span style="color:#000000">]</span></code>,
      and
      then replaces memory slot <code class="lstinline"><span style="color:#000000">b</span></code> in the latter with
      the result of the
      former.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.6.1 </span> <a id="x1-660003.6.1"></a>Example: Using <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code> to Replace a
      Memory
      Slot</h5>
   <!--l. 1289-->
   <pre class="lstlisting" id="listing-402"><span class="label"><a  id="x1-66001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]])</span></span> 
<span class="label"><a  id="x1-66002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]</span></span> 
<span class="label"><a  id="x1-66003r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">PSEUDOCODE</span></span> 
<span class="label"><a  id="x1-66004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[10</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]]]</span></span> 
<span class="label"><a  id="x1-66005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]]</span></span> 
<span class="label"><a  id="x1-66006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]]</span></span> 
<span class="label"><a  id="x1-66007r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">#</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]]</span></span> 
<span class="label"><a  id="x1-66008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">expanded</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">far</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">as</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">do</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">edit</span></span> 
<span class="label"><a  id="x1-66009r9"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">replace</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">[8</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">9</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">10]</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">50</span></span> 
<span class="label"><a  id="x1-66010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]</span></span></pre>
   <!--l. 1302-->
   <p class="noindent">We will defer discussion of opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> to a later
      section
      because it is not part of strict Nock semantics.



   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.6.2 </span> <a id="x1-670003.6.2"></a>Towards Hoon</h5>
   <!--l. 1306-->
   <p class="noindent">If “grab a chunk of code from a subject and then run it
      against the subject&#x0022; sounds a lot like getting an arm from
      a core in Hoon, that’s because it is. Nock opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> is
      hand-in-glove with Hoon’s core/arm structure. The “new
      subjects&#x0022; created by <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>
      are cores, and the things selected
      from memory slots by <code class="lstinline"><span style="color:#000000">b</span></code> are arms.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.7 </span> <a id="x1-680003.7"></a>Real Nock Code</h4>
   <!--l. 1310-->
   <p class="noindent">To ﬁnish this oﬀ and take your new powers for a spin, let’s
      look at some real Nock code from the wild. I got the below
      example from the Dojo. It’s a mold: a function that takes a
      noun and returns it if it’s the correct type, and crashes if not.
      The mold here checks whether the input noun is a loobean
      (<code class="lstinline"><span style="color:#000000">0</span></code>/true or <code
         class="lstinline"><span style="color:#000000">1</span></code>/false).

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.7.1 </span> <a id="x1-690003.7.1"></a>Example: A Loobean Mold
   </h5>
   <!--l. 1314-->
   <pre class="lstlisting" id="listing-409"><span class="label"><a  id="x1-69001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">loobean</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mold</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">gate</span></span> 
<span class="label"><a  id="x1-69002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=loobean-mold</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">?</span></span> 
<span class="label"><a  id="x1-69003r3"></a></span> 
<span class="label"><a  id="x1-69004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">below</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">output</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">truncated</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">for</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">purposes</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">here</span></span> 
<span class="label"><a  id="x1-69005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">loobean-mold</span></span> 
<span class="label"><a  id="x1-69006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003C;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">.fxf</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">...</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span> 
<span class="label"><a  id="x1-69007r7"></a></span> 
<span class="label"><a  id="x1-69008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">grab</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">code</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">for</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">battery</span></span> 
<span class="label"><a  id="x1-69009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">-.loobean-mold</span></span> 
<span class="label"><a  id="x1-69010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span> 
<span class="label"><a  id="x1-69011r11"></a></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span></pre>
   <!--l. 1328-->
   <p class="noindent">So we:
   </p><!--l. 1331-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-69013x1">
         <!--l. 1332-->
         <p class="noindent">Assign the mold gate denoted by <code
               class="lstinline"><span style="color:#000000">?</span></code> to the face
            <code class="lstinline"><span style="color:#000000">loobean-mold</span></code>.


         </p>
      </li>
      <li class="enumerate" id="x1-69015x2">
         <!--l. 1333-->
         <p class="noindent">Examine what’s inside, seeing that the head is an
            arm.
         </p>
      </li>
      <li class="enumerate" id="x1-69017x3">
         <!--l. 1334-->
         <p class="noindent">Print out that source code by calling the head.</p>
      </li>
   </ol>
   <!--l. 1337-->
   <p class="noindent">The below code acts as a formula which evaluates its sample,
      and returns it if it’s a loobean or crashes otherwise. Let’s see
      how that works.
   </p>
   <!--l. 1340-->
   <pre class="lstlisting" id="listing-412"><span class="label"><a  id="x1-69018r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span></pre>
   <!--l. 1344-->
   <p class="noindent">We start with <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code>, which means this
      is an if-else. The true/false
      test is the next element:
   </p>
   <!--l. 1347-->
   <pre class="lstlisting" id="listing-414"><span class="label"><a  id="x1-69019r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span></pre>
   <!--l. 1351-->
   <p class="noindent">This compares the quoted value <code
         class="lstinline"><span style="color:#000000">0</span></code> (from <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">0]</span></code>)
      with the
      value at memory slot <code class="lstinline"><span style="color:#000000">6</span></code> in the subject (<code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">6]</span></code>).
   </p><!--l. 1354-->
   <p class="indent"> What is the subject and what is at mem slot <code
         class="lstinline"><span style="color:#000000">6</span></code>? This code
      is the arm of a gate, so the subject is that gate/core:
      <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">battery</span><span style="color:#000000"> </span><span style="color:#000000">[</span><span style="color:#000000">sample</span><span style="color:#000000"> </span><span style="color:#000000">payload</span><span style="color:#000000">]]</span></code>.
      We are looking at the
      battery right now, and so <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">6]</span></code>
      yanks the head of the tail, or
      the <code class="lstinline"><span style="color:#000000">sample</span></code>!
   </p><!--l. 1356-->
   <p class="indent"> We know the sample will be a noun that we’re testing for
      loobeanness, so this code starts by seeing whether the sample
      is the value <code class="lstinline"><span style="color:#000000">0</span></code>/true. If it is, the next element
      is <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">0]</span></code>,
      so we
      return <code class="lstinline"><span style="color:#000000">0</span></code> if the sample is <code
         class="lstinline"><span style="color:#000000">0</span></code>.
   </p><!--l. 1358-->
   <p class="indent"> Otherwise, we run the second branch of the <code
         class="lstinline"><span style="color:#000000">if</span></code>–<code
         class="lstinline"><span style="color:#000000">else</span></code>
      conditional:


   </p>
   <!--l. 1360-->
   <pre class="lstlisting" id="listing-429"><span class="label"><a  id="x1-69020r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span></pre>
   <!--l. 1364-->
   <p class="indent"> This is also an opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">6</span></span></code> if-else. Once
      again, it compares
      something to the value at mem slot <code class="lstinline"><span style="color:#000000">6</span></code> (the
      sample), but this
      time it checks whether that is the value <code class="lstinline"><span style="color:#000000">1</span></code>. If
      it is, it runs the
      formula <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>
      to return <code class="lstinline"><span style="color:#000000">1</span></code>.
   </p><!--l. 1366-->
   <p class="indent"> If not, it means our input was neither <code
         class="lstinline"><span style="color:#000000">0</span></code> nor <code
         class="lstinline"><span style="color:#000000">1</span></code>
      and is not a loobean, so we run the formula <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">0]</span></code>,
      which always crashes (as there is no memory slot
      <code class="lstinline"><span style="color:#000000">0</span></code>).<span class="footnote-mark"><a
            href="#fn6x0"><sup class="textsuperscript">6</sup></a></span><a id="x1-69021f6"></a>
      This is exactly what we want—crash if the sample is not a
      loobean!
   </p><!--l. 1368-->
   <p class="indent"> The second part of the formula which is composed with an
      <code class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code> is:
   </p>
   <!--l. 1370-->
   <pre class="lstlisting" id="listing-440"><span class="label"><a  id="x1-69023r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">14]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span></pre>
   <!--l. 1374-->
   <p class="indent"> This checks whether the battery of the current gate is
      equivalent to the head of the context; if so, it returns the
      sample. This is a artifact of a type promotion in Hoon which
      converts a bare loobean value to a constant by pinning a
      constant as an example ﬁrst (i.e., at slot 14). (It’s completely
      extraneous in Nock itself, however.)

   </p>
   <h4 class="subsectionHead"><span class="titlemark">3.8 </span> <a id="x1-700003.8"></a>Summary</h4>
   <!--l. 1378-->
   <p class="noindent">In this section, we’ve seen how to use almost all of the
      remaining opcodes, which build Nock up to a slightly more


      expressive level. We also saw how Hoon cores start to arise
      pretty naturally out of the Nock primitives, especially <code
         class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code> and
      <code class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>. Then we walked
      through real production Nock code to show
      that everything we’ve learned so far works exactly as expected
      in the wild. In the next section, you’ll learn how to write real
      programs in Nock, and compose those programs to make new
      ones. Finally, hopefully you now see that, whatever its other
      limitations, Nock is not particularly obscurantist, and is fairly
      straightforward to parse, once you understand its syntax and
      idioms.

   </p>
   <h3 class="sectionHead"><span class="titlemark">4 </span> <a id="x1-710004"></a>Interlude</h3>
   <!--l. 1382-->
   <p class="noindent">In this section, we cover some loose ends deriving from the
      previous discussion.

   </p>
   <h4 class="subsectionHead"><span class="titlemark">4.1 </span> <a id="x1-720004.1"></a>Order of Operations</h4>
   <!--l. 1386-->
   <p class="noindent">At this point, we can answer the question of what order Nock
      evaluates expressions in. The answer is straightforward: it
      starts with code that has only one pseudocode operator and
      all Nock code, as below:
   </p>
   <!--l. 1388-->
   <pre class="lstlisting" id="listing-443"><span class="label"><a  id="x1-72001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]]]</span></span></pre>
   <!--l. 1392-->
   <p class="noindent">The interpreter can then be thought of as moving left-to-right,
      expanding according to its rules, until it can’t expand any
      further into pseudocode:
   </p>
   <!--l. 1395-->
   <pre class="lstlisting" id="listing-444"><span class="label"><a  id="x1-72002r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]]]</span></span> 
<span class="label"><a  id="x1-72003r2"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">+*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]]]</span></span> 
<span class="label"><a  id="x1-72004r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]]</span></span> 
<span class="label"><a  id="x1-72005r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]]]</span></span> 
<span class="label"><a  id="x1-72006r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">++=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">/</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span></pre>


   <!--l. 1403-->
   <p class="noindent">Once we get to that last line, <code
         class="lstinline"><span style="color:#000000">++=</span><span style="color:#000000">[</span><span style="color:#000000">/</span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">50]</span><span style="color:#000000"> </span><span style="color:#000000">*</span><span style="color:#000000">[50</span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">50]]]</span></code>,
      no further expansion into pseudocode is possible.
   </p><!--l. 1406-->
   <p class="indent"> At this point, the interpreter expands “inside-out&#x0022;, starting
      from the deepest operators. In this case, those are <code
         class="lstinline"><span style="color:#000000">/</span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">1</span></span><span style="color:#000000"> </span><span style="color:#000000">50]</span></code>
      and <code class="lstinline"><span style="color:#000000">50</span></code>, so it does those:
   </p>
   <!--l. 1408-->
   <pre class="lstlisting" id="listing-448"><span class="label"><a  id="x1-72007r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span></pre>
   <!--l. 1412-->
   <p class="noindent">Then it moves to the next-furthest-inside operator: <code
         class="lstinline"><span style="color:#000000">=</span></code>, and
      then to the <code class="lstinline"><span style="color:#000000">+</span></code> operators:
   </p>
   <!--l. 1415-->
   <pre class="lstlisting" id="listing-451"><span class="label"><a  id="x1-72008r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">++=</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">50]</span></span> 
<span class="label"><a  id="x1-72009r2"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(0)</span></span> 
<span class="label"><a  id="x1-72010r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">+</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(1)</span></span> 
<span class="label"><a  id="x1-72011r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">4.1.1 </span> <a id="x1-730004.1.1"></a>Summary of Nock Order
      of Operations</h5>
   <!--l. 1424-->
   <p class="noindent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-73002x1">
         <!--l. 1425-->
         <p class="noindent">On the ﬁrst pass, when we have
            Nock code <code
               class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">(</span><span style="color:#000000">nock-code</span><span style="color:#000000">)</span></code>,
            we expand left-to-right
            into pseudocode.
         </p>
      </li>
      <li class="enumerate" id="x1-73004x2">
         <!--l. 1426-->
         <p class="noindent">On the second pass, when we’ve fully expanded
            pseudocode, we evaluate operators from the
            inside-out.</p>
      </li>
   </ol>



   <h4 class="subsectionHead"><span class="titlemark">4.2 </span> <a id="x1-740004.2"></a><code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code>, Hints and Side
      Eﬀects for the Interpreter</h4>
   <!--l. 1431-->
   <p class="noindent">Opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> lets you compute
      side eﬀects and pass information
      to Nock’s interpreter, for that interpreter to do what it wants.
      The most common uses are things like jets and debugging
      prints. In theory, this opcode is fairly dangerous, since it tells
      the interpreter that it’s free to do anything.
   </p><!--l. 1433-->
   <p class="indent"> There are two diﬀerent versions of <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code>, depending on
      whether the head following <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> is an atom or a
      cell
   </p>
   <!--l. 1435-->
   <pre class="lstlisting" id="listing-457"><span class="label"><a  id="x1-74001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">head</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">an</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">atom</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-74002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">11</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-74003r3"></a></span> 
<span class="label"><a  id="x1-74004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">head</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cell</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">([</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">c</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">])</span></span> 
<span class="label"><a  id="x1-74005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">11</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">c</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">d</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span></pre>
   <!--l. 1443-->
   <p class="indent"> This pseudocode lets <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> handle two
      separate use
      cases:
   </p><!--l. 1445-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-74007x1">
         <!--l. 1446-->
         <p class="noindent">We just want the interpreter to process a message in
            its own language/environment.
         </p>
      </li>
      <li class="enumerate" id="x1-74009x2">
         <!--l. 1447-->
         <p class="noindent">We want the interpreter to compute some Nock code
            with Nock semantics before processing the hint.</p>
      </li>
   </ol>

   <h5 class="subsubsectionHead"><span class="titlemark">4.2.1 </span> <a id="x1-750004.2.1"></a>Option #1: Interpreter
      Processes a Message</h5>
   <!--l. 1452-->
   <p class="noindent">Imagine the following Nock:
   </p>
   <!--l. 1454-->
   <pre class="lstlisting" id="listing-459"><span class="label"><a  id="x1-75001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">11</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">369</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span></pre>


   <!--l. 1458-->
   <p class="noindent">This passes the value <code class="lstinline"><span style="color:#000000">369</span></code> to
      the interpreter, where maybe it
      would be the key in a hashmap. The value associated with the
      could be the function to debug print the whole operation. Or
      the value could be a jet function that speciﬁcally knows how
      to compute the <code class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>
      opcode faster when it’s followed by a
      <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>.
   </p><!--l. 1461-->
   <p class="indent"> After the interpreter does whatever, it needs to then
      discard the value <code
         class="lstinline"><span style="color:#000000">292</span><span style="color:#000000">.989</span></code>, and
      computes
   </p>
   <!--l. 1463-->
   <pre class="lstlisting" id="listing-464"><span class="label"><a  id="x1-75002r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">51]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-75003r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">50</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">4.2.2 </span> <a id="x1-760004.2.2"></a>Option #2: Run Nock
      Code and then Process a
      Message</h5>
   <!--l. 1470-->
   <p class="noindent">In this case, instead of passing a static value to the interpreter,
      we pass it a Nock computation against the subject. The result
      of that computation will then be available to the interpreter to
      use as a message.

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">4.2.3 </span> <a id="x1-770004.2.3"></a>Practical Use of <code
         class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code>: Jet Registration
   </h5>
   <!--l. 1474-->
   <p class="noindent">Jet registration in Hoon usually looks like this:
   </p>
   <!--l. 1476-->
   <pre class="lstlisting" id="listing-466"><span class="label"><a  id="x1-77001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">++</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">my-function</span></span> 
<span class="label"><a  id="x1-77002r2"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">~/</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">%my-function</span></span> 
<span class="label"><a  id="x1-77003r3"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">|=</span></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">var=*</span></span> 
<span class="label"><a  id="x1-77004r4"></a></span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">...</span></span></pre>
   <!--l. 1483-->
   <p class="noindent">The Hoon rune <code class="lstinline"><span style="color:#000000">~/</span></code> fassig uses
      Nock <code class="lstinline"><span class="underline"><span style="color:#000000">11</span></span></code> to pass
      the value
      <code class="lstinline"><span style="color:#000000">%my-function</span></code> to the interpreter, where it is
      associated with
      the C code that produces the product of <code
         class="lstinline"><span style="color:#000000">my-function</span></code>.



   </p>
   <h4 class="subsectionHead"><span class="titlemark">4.3 </span> <a id="x1-780004.3"></a>Nock in Hoon</h4>
   <!--l. 1488-->
   <p class="noindent">In Hoon, you can acquire the Nock code for any function by
      using the <code class="lstinline"><span style="color:#000000">!=</span></code> zaptis rune. Since this produces
      Nock code
      complete with gate calls, you may also ﬁnd it helpful to cast a
      data type as a noun using <code
         class="lstinline"><span style="color:#000000">^-</span><span style="color:#000000"> </span><span style="color:#000000"> </span><span style="color:#000000">*</span></code>,
      which will show you the
      raw Nock code for that value.
   </p><!--l. 1490-->
   <p class="indent"> As you have seen, you can also evaluate raw Nock using
      the <code class="lstinline"><span style="color:#000000">.*</span></code> dottar rune, which evaluates to Nock
      opcode <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>. Other
      Nock runes in Hoon include <code class="lstinline"><span style="color:#000000">.+</span></code> dotlus, which is
      opcode <code class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code>; <code
         class="lstinline"><span style="color:#000000">.=</span></code>
      dottis, which is opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code>; and <code
         class="lstinline"><span style="color:#000000">.?</span></code> dotwut, which is opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">3</span></span></code>.
      Fake opcode <code class="lstinline"><span class="underline"><span style="color:#000000">12</span></span></code> is
      not actually Nock, but is used in a
      virtualization context to resolve values that may not be
      available in the current subject.

   </p>
   <h3 class="sectionHead"><span class="titlemark">5 </span> <a id="x1-790005"></a>The Core as Design Pattern</h3>
   <!--l. 1494-->
   <p class="noindent">At this point, you now know everything there is to know
      about Nock syntax and basic code manipulation. However, if I
      asked you to go write a simple program in Nock, you’d
      probably have a hard time getting started. It’s really helpful
      to see some examples of how Nock programs are designed and
      patterns that tend to recur in them.
   </p><!--l. 1496-->
   <p class="indent"> We can set variables to formulas in the Urbit Dojo. We will
      use that in this lesson to make code easy to follow, and
      to show how Nock programs are made out of discrete
      chunks.
   </p>
   <!--l. 1498-->
   <pre class="lstlisting" id="listing-482"><span class="label"><a  id="x1-79001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=increment-formula</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span> 
<span class="label"><a  id="x1-79002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(50</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">increment-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-79003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">51</span></span> 
<span class="label"><a  id="x1-79004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=increment-formula</span></span></pre>



   <h4 class="subsectionHead"><span class="titlemark">5.1 </span> <a id="x1-800005.1"></a>Building a Core Manually</h4>
   <!--l. 1507-->
   <p class="noindent">Every Nock program is just a formula that takes in a subject
      (argument). In order to run full programs against a subject,
      we follow the following pattern:
   </p><!--l. 1509-->
   <p class="indent">
   </p>
   <ol class="enumerate1">
      <li class="enumerate" id="x1-80002x1">
         <!--l. 1510-->
         <p class="noindent">First pass: set up the dominos inside an opcode like
            <code class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code> (or <code
               class="lstinline"><span class="underline"><span style="color:#000000">7</span></span></code>/<code
               class="lstinline"><span class="underline"><span style="color:#000000">8</span></span></code>/<code
               class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code>). This will
            create a core, and evaluate it
            on the second pass.
         </p>
      </li>
      <li class="enumerate" id="x1-80004x2">
         <!--l. 1511-->
         <p class="noindent">Second pass: evaluate that core to get our result.</p>
      </li>
   </ol>
   <!--l. 1514-->
   <p class="indent"> The pseudocode for opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>, this looks like:
   </p>
   <!--l. 1516-->
   <pre class="lstlisting" id="listing-488"><span class="label"><a  id="x1-80005r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">subject</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">core-formula</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">call-formula</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 1520-->
   <p class="indent"> Almost always, however, we’ll use the <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> opcode (which is
      sugar on top of <code
         class="lstinline"><span class="underline"><span style="color:#000000">2</span></span></code>) to actually start
      our programs running,
      since it supports the concept of “cores&#x0022; and “arms&#x0022; very
      naturally. (For those who know Hoon, this “set up a
      core and run it” pattern should feel similar to <code
         class="lstinline"><span style="color:#000000">|^</span></code> or
      <code class="lstinline"><span style="color:#000000">=&#x003E;</span></code>.)

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">5.1.1 </span> <a id="x1-810005.1.1"></a>Example: A Simple
      Increment Gate</h5>
   <!--l. 1524-->
   <p class="noindent">Let’s take code to increment the subject and turn it into a
      Hoon-style gate (a core with one arm and a sample). The code
      itself is simple: <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>.


   </p><!--l. 1526-->
   <p class="indent"> Our code expects the subject to be an atom, but Hoon
      gates expect their subject to be the gate itself, which has the
      form <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">battery</span><span style="color:#000000"> </span><span style="color:#000000">payload</span><span style="color:#000000">]</span></code>.
      So we need to adjust our
      formula to accept this subject format.
   </p>
   <!--l. 1528-->
   <pre class="lstlisting" id="listing-495"><span class="label"><a  id="x1-81001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=inc</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]</span></span> 
<span class="label"><a  id="x1-81002r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">verify</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increments</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">payload</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-81003r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">74]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">inc</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-81004r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">75</span></span></pre>
   <!--l. 1535-->
   <p class="indent"> We put our formula in the head, and put a default
      (“bunted”) sample of <code class="lstinline"><span style="color:#000000">0</span></code> as the payload.
   </p>
   <!--l. 1537-->
   <pre class="lstlisting" id="listing-497"><span class="label"><a  id="x1-81005r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=inc-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">inc</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span> 
<span class="label"><a  id="x1-81006r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">inc-gate</span></span> 
<span class="label"><a  id="x1-81007r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span></pre>
   <!--l. 1543-->
   <p class="indent"> Arms are best invoked using the <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> opcode. Here we
      use the
      “standard&#x0022; version of it: <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">9</span></span><span style="color:#000000"> </span><span style="color:#000000">2</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>.
      Recall that <code class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> is
      <code
         class="lstinline"><span style="color:#000000">*</span><span style="color:#000000">[</span><span style="color:#000000">a</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">9</span></span><span style="color:#000000"> </span><span style="color:#000000">b</span><span style="color:#000000"> </span><span style="color:#000000">c</span><span style="color:#000000">]</span></code>,
      where <code class="lstinline"><span style="color:#000000">c</span></code> is the “new subject&#x0022; formula, and
      <code class="lstinline"><span style="color:#000000">b</span></code>
      is the memory slot of that new subject to take an arm
      from. Here we use <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">1]</span></code>
      to keep our subject (the gate)
      unchanged.
   </p>
   <!--l. 1545-->
   <pre class="lstlisting" id="listing-505"><span class="label"><a  id="x1-81008r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">inc-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-81009r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>
   <!--l. 1550-->
   <p class="indent"> To “pass a parameter&#x0022; to our gate, we use the <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code>
      opcode to edit the subject (the <code class="lstinline"><span style="color:#000000">inc-gate</span></code> core)
      and
      replace the payload with a value. We make our subject
      <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">inc-gate</span><span style="color:#000000"> </span><span style="color:#000000">val-to-increment</span><span style="color:#000000">]</span></code>:
   </p>
   <!--l. 1552-->
   <pre class="lstlisting" id="listing-509"><span class="label"><a  id="x1-81010r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">notice</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">how</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">opcode</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">10</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">replace</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">last</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">element</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">inc-gate</span></span> 
<span class="label"><a  id="x1-81011r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">inc-gate</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">was</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">s</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">36</span></span> 
<span class="label"><a  id="x1-81012r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">inc-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-81013r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span> 
<span class="label"><a  id="x1-81014r5"></a><span 
class="ec-lmr-5">5</span></span> 
<span class="label"><a  id="x1-81015r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">use</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">set</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">up</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">new</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">sample</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-81016r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">call</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">arm</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">increment</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-81017r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">inc-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-81018r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">37</span></span> 
<span class="label"><a  id="x1-81019r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">inc-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">562]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-81020r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">563</span></span></pre>



   <h5 class="subsubsectionHead"><span class="titlemark">5.1.2 </span> <a id="x1-820005.1.2"></a>Summary</h5>
   <!--l. 1568-->
   <p class="noindent">What was the point of this? We took a perfectly good
      increment formula that worked on atoms, and made it more
      complicated for the same result. Lame!
   </p><!--l. 1570-->
   <p class="indent"> In fact, however, this setup will come in really handy
      when we have multiple arms in our core, not just one.
      We’ve made it easy to set up a clean environment for
      increment to ﬁnd its sample in, no matter what other data is
      present. This will come in <span class="ec-lmri-10">very </span>handy in our third example
      program.
   </p><!--l. 1572-->
   <p class="indent"> First, however, let’s look at putting a more complicated
      formula inside a gate. (Hint: the process is the same).

   </p>
   <h5 class="subsubsectionHead"><span class="titlemark">5.1.3 </span> <a id="x1-830005.1.3"></a>Example: A Decrement
      Gate</h5>
   <!--l. 1576-->
   <p class="noindent">Here we take a piece of code that decrements the subject when
      the subject is an atom, and turn it into a gate. For now, we
      will take it as a given that the decrement function given below
      works. (The code will crash when the input is a cell or
      <code class="lstinline"><span style="color:#000000">0</span></code>)
   </p>
   <!--l. 1578-->
   <pre class="lstlisting" id="listing-511"><span class="label"><a  id="x1-83001r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">code:</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">set</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Dojo</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">face</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=dec</span></span> 
<span class="label"><a  id="x1-83002r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dec</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]]]</span></span> 
<span class="label"><a  id="x1-83003r3"></a></span> 
<span class="label"><a  id="x1-83004r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">testing</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">Dojo</span></span> 
<span class="label"><a  id="x1-83005r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-83006r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">99</span></span> 
<span class="label"><a  id="x1-83007r7"></a></span> 
<span class="label"><a  id="x1-83008r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">non-atom</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">input</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">crash</span></span> 
<span class="label"><a  id="x1-83009r9"></a></span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([100</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">101]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-83010r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dojo:</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">hoon</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">expression</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">failed</span></span></pre>
   <!--l. 1591-->
   <p class="indent"> Let’s re-jigger the decrement formula to accept the subject
      in format <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">battery</span><span style="color:#000000"> </span><span style="color:#000000">payload</span><span style="color:#000000">]</span></code>:
   </p>
   <!--l. 1593-->
   <pre class="lstlisting" id="listing-513"><span class="label"><a  id="x1-83011r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">gets</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">mem</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">applies</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">decrement</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span> 
<span class="label"><a  id="x1-83012r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dec-arm</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-83013r3"></a></span> 
<span class="label"><a  id="x1-83014r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">verify</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">dec-arm</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">decrements</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span> 
<span class="label"><a  id="x1-83015r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">88]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-arm</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-83016r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">87</span></span> 
<span class="label"><a  id="x1-83017r7"></a></span> 
<span class="label"><a  id="x1-83018r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">output</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">full</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">dec-arm</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">code</span></span> 
<span class="label"><a  id="x1-83019r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-arm</span></span> 
<span class="label"><a  id="x1-83020r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span></pre>
   <!--l. 1606-->
   <p class="indent"> Next, assemble the core:
   </p>
   <!--l. 1608-->


   <pre class="lstlisting" id="listing-514"><span class="label"><a  id="x1-83021r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">all</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">need</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">do</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">add</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">sample!</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">give</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">default</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">value</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">of</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0)</span></span> 
<span class="label"><a  id="x1-83022r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dec-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-arm</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span> 
<span class="label"><a  id="x1-83023r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span> 
<span class="label"><a  id="x1-83024r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[7</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[5</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[3</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[1</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[5</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span> 
<span class="label"><a  id="x1-83025r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span></pre>
   <!--l. 1616-->
   <p class="indent"> As in the ﬁrst example, we use the <code
         class="lstinline"><span class="underline"><span style="color:#000000">10</span></span></code> opcode to edit
      the
      subject (the <code class="lstinline"><span style="color:#000000">dec-gate</span></code> core) and replace the
      payload with a
      value. We make our subject <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">dec-gate</span><span style="color:#000000"> </span><span style="color:#000000">val-to-decrement</span><span style="color:#000000">]</span></code>.
   </p>
   <!--l. 1618-->
   <pre class="lstlisting" id="listing-518"><span class="label"><a  id="x1-83026r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">confirm</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">10</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">code</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">places</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">36</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span> 
<span class="label"><a  id="x1-83027r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-83028r3"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span> 
<span class="label"><a  id="x1-83029r4"></a></span> 
<span class="label"><a  id="x1-83030r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">now</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">use</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">that</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">set</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">up</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">new</span></span> 
<span class="label"><a  id="x1-83031r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">tail</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">sample</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">call</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">arm</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slot</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span> 
<span class="label"><a  id="x1-83032r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">decrement</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-83033r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">36]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-83034r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">35</span></span> 
<span class="label"><a  id="x1-83035r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">562]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2])</span></span> 
<span class="label"><a  id="x1-83036r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">561</span></span></pre>

   <h5 class="subsubsectionHead"><span class="titlemark">5.1.4 </span> <a id="x1-840005.1.4"></a>Example: Comparing Two
      Numbers</h5>
   <!--l. 1634-->
   <p class="noindent">In this example we will build a Nock core that compares two
      numbers and returns whether they are greater than, less than,
      or equal to each other.
   </p><!--l. 1636-->
   <p class="indent"> The program speciﬁcation is to take two numbers <code
         class="lstinline"><span style="color:#000000">a</span></code> and <code
         class="lstinline"><span style="color:#000000">b</span></code>
      and return:
   </p>
   <ul class="itemize1">
      <li class="itemize">
         <!--l. 1639-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">0</span></code> if <code
               class="lstinline"><span style="color:#000000">a==b</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 1640-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">1</span></code> if <code
               class="lstinline"><span style="color:#000000">a&#x003E;b</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 1641-->
         <p class="noindent"><code class="lstinline"><span style="color:#000000">2</span></code> if <code
               class="lstinline"><span style="color:#000000">a&#x003C;b</span></code>.</p>
      </li>
   </ul>
   <!--l. 1644-->
   <p class="indent"> The trick is that the only mathematical operators we have
      for this are the <code
         class="lstinline"><span class="underline"><span style="color:#000000">4</span></span></code> opcode for
      increment, <code class="lstinline"><span class="underline"><span style="color:#000000">5</span></span></code> for
      equals, and a
      decrement Nock function that we will supply. The basic
      algorithm is:
   </p>


   <ul class="itemize1">
      <li class="itemize">
         <!--l. 1647-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">a==b</span></code>, return <code
               class="lstinline"><span style="color:#000000">0</span></code>.
         </p>
      </li>
      <li class="itemize">
         <!--l. 1648-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">a==0</span></code>, return <code
               class="lstinline"><span style="color:#000000">2</span></code>. (I.e, <code
               class="lstinline"><span style="color:#000000">a&#x003C;b</span></code>).
         </p>
      </li>
      <li class="itemize">
         <!--l. 1649-->
         <p class="noindent">If <code class="lstinline"><span style="color:#000000">b==0</span></code>, return <code
               class="lstinline"><span style="color:#000000">1</span></code>. (I.e., <code
               class="lstinline"><span style="color:#000000">a&#x003E;b</span></code>).
         </p>
      </li>
      <li class="itemize">
         <!--l. 1650-->
         <p class="noindent">Recur with <code class="lstinline"><span style="color:#000000">a</span></code> and <code
               class="lstinline"><span style="color:#000000">b</span></code> both decremented.</p>
      </li>
   </ul>
   <!--l. 1653-->
   <p class="indent"> The above works because if <code class="lstinline"><span style="color:#000000">a</span></code> is
      smaller than <code class="lstinline"><span style="color:#000000">b</span></code>, it hits 0
      ﬁrst. If <code class="lstinline"><span style="color:#000000">b</span></code> is smaller than a, it hits <code
         class="lstinline"><span style="color:#000000">0</span></code> ﬁrst. If they are equal, we
      never decrement in the ﬁrst place, so there are no issues with
      numbers going negative.
   </p><!--l. 1655-->
   <p class="indent"> We will construct a core that has two arms: one arm with
      the algorithm logic, and a second arm with the decrement gate
      from the second example. These arms will live in the head of
      the core (think “battery&#x0022;).
   </p><!--l. 1657-->
   <p class="indent"> We will put our variables <code class="lstinline"><span style="color:#000000">a</span></code> and
      <code class="lstinline"><span style="color:#000000">b</span></code> in the tail of the core
      (think “payload&#x0022;). They will be updated before the core is
      called each time. (This is similar to a trap or door in
      Hoon).
   </p><!--l. 1659-->
   <p class="indent"> The ﬁnal core we will create will have the structure
      <code
         class="lstinline"><span style="color:#000000">[</span><span style="color:#000000">battery</span><span style="color:#000000"> </span><span style="color:#000000">payload</span><span style="color:#000000">]</span></code>,
      which can be broken down as:
   </p>
   <!--l. 1661-->
   <pre class="lstlisting" id="listing-546"><span class="label"><a  id="x1-84001r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">main-logic</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span></pre>
   <!--l. 1665-->
   <p class="indent"> Once the core is set up, we’ll invoke the algorithm
      logic arm to set it running. We will build the main logic
      “inside-out&#x0022;, by ﬁrst deﬁning the “recur&#x0022; code, and then
      inserting it into our if/else tests that implement the algorithm.


   </p><!--l. 1667-->
   <p class="indent"> This recursion logic assumes the decrement gate lives in
      the tail of the battery (the battery is the head), i.e. <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">5]</span></code>.
      We are using <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">10</span></span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">3</span></span><span style="color:#000000"> </span><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">memory-slot</span><span style="color:#000000">]]</span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000">0</span></span><span style="color:#000000"> </span><span style="color:#000000">5]</span></code>
      to extract
      the decrement gate from our core, and then we invoke it with
      <code
         class="lstinline"><span style="color:#000000">[</span><span class="underline"><span style="color:#000000">9</span></span><span style="color:#000000"> </span><span style="color:#000000">2</span><span style="color:#000000"> </span><span style="color:#000000">...</span><span style="color:#000000">]</span></code>.
   </p><!--l. 1669-->
   <p class="indent"> This is identical to what we did in the second example—the
      only diﬀerence is that we now do it twice: once for memory
      slot <code class="lstinline"><span style="color:#000000">6</span></code> (<code
         class="lstinline"><span style="color:#000000">a</span></code>) and again for memory slot <code
         class="lstinline"><span style="color:#000000">7</span></code> (<code
         class="lstinline"><span style="color:#000000">b</span></code>).
   </p>
   <!--l. 1671-->
   <pre class="lstlisting" id="listing-554"><span class="label"><a  id="x1-84002r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dec-a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span> 
<span class="label"><a  id="x1-84003r2"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dec-b</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span> 
<span class="label"><a  id="x1-84004r3"></a></span> 
<span class="label"><a  id="x1-84005r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">can</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">test</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formulas</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">by</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">making</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span> 
<span class="label"><a  id="x1-84006r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">dummy</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">core</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">33</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">,</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">=</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">77)</span></span> 
<span class="label"><a  id="x1-84007r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">first</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">formula</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">in</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">battery</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">just</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">returns</span></span> 
<span class="label"><a  id="x1-84008r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">current</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">subject</span></span> 
<span class="label"><a  id="x1-84009r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dummy-core</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">33</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">77]</span></span> 
<span class="label"><a  id="x1-84010r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dummy-core</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-a</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84011r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">32</span></span> 
<span class="label"><a  id="x1-84012r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dummy-core</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84013r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">76</span></span></pre>
   <!--l. 1686-->
   <p class="indent"> The recursion formula here operates by invoking its
      subject—itself—and applying the <code class="lstinline"><span style="color:#000000">dec-a</span></code> and <code
         class="lstinline"><span style="color:#000000">dec-b</span></code> formulas to
      it. Then we use opcode <code
         class="lstinline"><span class="underline"><span style="color:#000000">9</span></span></code> for the new
      subject’s setup: replace
      <code class="lstinline"><span style="color:#000000">payload</span></code> with new <code
         class="lstinline"><span style="color:#000000">a</span></code> and <code
         class="lstinline"><span style="color:#000000">b</span></code> run the current core
   </p>
   <!--l. 1688-->
   <pre class="lstlisting" id="listing-561"><span class="label"><a  id="x1-84014r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=recur</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-a</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-b</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span> 
<span class="label"><a  id="x1-84015r2"></a></span> 
<span class="label"><a  id="x1-84016r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">test</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">it</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">--</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">want</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">to</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">see</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">same</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">battery,</span></span> 
<span class="label"><a  id="x1-84017r4"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">payload</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">being</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">replaced</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">with</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">32</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">76</span></span> 
<span class="label"><a  id="x1-84018r5"></a><span 
class="ec-lmr-5">5</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">(</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">dummy-core</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">recur</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84019r6"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">32</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">76]</span></span> 
<span class="label"><a  id="x1-84020r7"></a></span> 
<span class="label"><a  id="x1-84021r8"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">clean</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">up</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">dummy-core</span></span> 
<span class="label"><a  id="x1-84022r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=dummy-core</span></span></pre>
   <!--l. 1700-->
   <p class="indent"> The main logic is then:
   </p>
   <!--l. 1702-->
   <pre class="lstlisting" id="listing-562"><span class="label"><a  id="x1-84023r1"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">check</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">whether</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">if</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">true</span></span> 
<span class="label"><a  id="x1-84024r2"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">else</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">check</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">whether</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">0</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">return</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">1</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">if</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">true</span></span> 
<span class="label"><a  id="x1-84025r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">else</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">recur</span></span> 
<span class="label"><a  id="x1-84026r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=main-logic</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">recur</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]]</span></span> 
<span class="label"><a  id="x1-84027r5"></a><span 
class="ec-lmr-5">5</span></span> 
<span class="label"><a  id="x1-84028r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">test</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">we</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">aren</span><span 
class="ts1-lmtti10-x-x-90">&#x0027;</span><span 
class="ec-lmtti-10x-x-90">t</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">doing</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">the</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">equality</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">case</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">here</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-84029r7"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x003C;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span> 
<span class="label"><a  id="x1-84030r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">main-logic</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-84031r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span> 
<span class="label"><a  id="x1-84032r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">&#x003E;</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span> 
<span class="label"><a  id="x1-84033r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">main-logic</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">9]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1])</span></span> 
<span class="label"><a  id="x1-84034r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>
   <!--l. 1718-->
   <p class="indent"> We build an outer test for whether <code
         class="lstinline"><span style="color:#000000">a==b</span></code>, and then if it’s
      not, we use the <code class="lstinline"><span class="underline"><span style="color:#000000">1</span></span></code>
      opcode to return the core.
   </p>
   <!--l. 1720-->
   <pre class="lstlisting" id="listing-565"><span class="label"><a  id="x1-84035r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=battery</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">main-logic</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">dec-gate</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span> 
<span class="label"><a  id="x1-84036r2"></a></span> 
<span class="label"><a  id="x1-84037r3"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">payload</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">for</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">core</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">is</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">memory</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">slots</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">2</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">(</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">a</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">and</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">b</span></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">)</span></span> 
<span class="label"><a  id="x1-84038r4"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">=comparison</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">battery</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]]]</span></span> 
<span class="label"><a  id="x1-84039r5"></a><span 
class="ec-lmr-5">5</span></span> 
<span class="label"><a  id="x1-84040r6"></a></span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">::</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">test</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">our</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">3</span></span><span style="color:#404040"> </span><span style="color:#404040"><span 
class="ec-lmtti-10x-x-90">cases</span></span> 
<span class="label"><a  id="x1-84041r7"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">8]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">comparison</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84042r8"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span> 
<span class="label"><a  id="x1-84043r9"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([0</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">comparison</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84044r10"></a><span 
class="ec-lmr-5">10</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span> 
<span class="label"><a  id="x1-84045r11"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">&#x003E;</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtk-10x-x-90">.*</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">([8</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">comparison</span></span><span style="color:#000000"><span 
class="ec-lmtt-9">)</span></span> 
<span class="label"><a  id="x1-84046r12"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></pre>
   <!--l. 1735-->
   <p class="indent"> We can take this code and use it <span class="ec-lmri-10">anywhere </span>that our subject
      is a cell of two numbers, and it will “just work&#x0022;.
   </p>
   <!--l. 1737-->


   <pre class="lstlisting" id="listing-566"><span class="label"><a  id="x1-84047r1"></a></span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">10</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">5]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">7</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">3</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">8</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">1</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">6</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">5</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">4</span></span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">6]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">7]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">9</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">1]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">0]</span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">[</span></span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">2]</span></span><span style="color:#000000"> </span><span class="underline"><span style="color:#000000"><span 
class="ec-lmtt-9">0</span></span></span><span style="color:#000000"> </span><span style="color:#000000"><span 
class="ec-lmtt-9">3]</span></span></pre>
   <!--l. 1741-->
   <p class="indent"> One common convention used in languages like Hoon is to
      denote Nock rules as constants, e.g. <code class="lstinline"><span style="color:#000000">%0</span></code>
      (corresponding
      to our <code class="lstinline"><span class="underline"><span style="color:#000000">0</span></span></code>). This
      makes it much more straightforward to
      interpret hand-rolled Nock code with addresses and constants
      present.

   </p>
   <h3 class="sectionHead"><span class="titlemark">6 </span> <a id="x1-850006"></a>Conclusion</h3>
   <!--l. 1745-->
   <p class="noindent">After this tutorial, you should be prepared to interpret Nock
      code when it is produced by Hoon. Although there is only
      rarely any call to write Nock code directly, you should now
      have a good understanding of how to read and interpret it. As
      you write your own interpreters in the future, you may
      even have call to hand-roll Nock expressions on occasion.
      <img src="ustj-logo-.png" alt="PIC" />
   </p>

   <h3 class="sectionHead"><a id="x1-65536"></a>Footnotes</h3>
   <p class="noindent">
   <div class="footnote-text">
      <!--l. 124-->
      <p class="noindent"><span class="footnote-mark"><a id="x2-5004x1"></a><a id="fn1x0"> <sup
                  class="textsuperscript">1</sup></a></span><span class="ec-lmr-8">Consult </span><a
            href="https://docs.urbit.org" class="url"><span class="ec-lmr-8">https://docs</span><span
               class="cmmi-8">.</span><span class="ec-lmr-8">urbit</span><span class="cmmi-8">.</span><span
               class="ec-lmr-8">org</span></a> <span class="ec-lmr-8">for details.</span><a href="#x1-5003f1">⤴</a></p>
   </div>


   <div class="footnote-text">
      <!--l. 141-->
      <p class="indent"> <span class="footnote-mark"><a id="x3-7002x1.5"></a><a id="fn2x0"> <sup
                  class="textsuperscript">2</sup></a></span><span class="ec-lmr-8">Code samples beginning with
         </span><code class="lstinline"><span style="color:#000000">&#x003E;</span></code> <span class="ec-lmr-8">are
            Dojo inputs (to wit, Hoon</span>
         <span class="ec-lmr-8">expressions).</span><a href="#x1-7001f2">⤴</a>
      </p>
   </div>



   <div class="footnote-text">
      <!--l. 342-->
      <p class="indent"> <span class="footnote-mark"><a id="x4-11002x2.3"></a><a id="fn3x0"> <sup
                  class="textsuperscript">3</sup></a></span><span class="ec-lmr-8">From this point on, we will write
            Nock opcodes in special type so</span>
         <span class="ec-lmr-8">that they can be distinguished from other numbers in Nock. This reﬂects</span>
         <span class="ec-lmr-8">Hoon practice, which marks Nock rules as constants like </span><code
            class="lstinline"><span style="color:#000000">%0</span></code><span class="ec-lmr-8">. While not</span>
         <span class="ec-lmr-8">strictly necessary, it can be helpful when learning or coding Nock to see</span>
         <span class="ec-lmr-8">an explicit distinction.</span><a href="#x1-11001f3">⤴</a>
      </p>
   </div>



   <div class="footnote-text">
      <!--l. 666-->
      <p class="noindent"><span class="footnote-mark"><a id="x5-27008x2.7"></a><a id="fn4x0"> <sup
                  class="textsuperscript">4</sup></a></span><span class="ec-lmr-8">Nock conventionally explains that
            there is one “true” case and</span>
         <span class="ec-lmr-8">(potentially) many “false” cases, thus 0/true and 1/false.</span><a
            href="#x1-27007f4">⤴</a>
      </p>
   </div>


   <div class="footnote-text">
      <!--l. 1045-->
      <p class="indent"> <span class="footnote-mark"><a id="x6-51010x3.2.3"></a><a id="fn5x0"> <sup
                  class="textsuperscript">5</sup></a></span><span class="ec-lmr-8">A boolean truth value but with the
            typical truth values of 0 and</span>
         <span class="ec-lmr-8">1 reversed to 0/true and 1/false.</span><a href="#x1-51009f5">⤴</a>
      </p>
   </div>



   <div class="footnote-text">
      <!--l. 1366-->
      <p class="indent"> <span class="footnote-mark"><a id="x7-69022x3.7.1"></a><a id="fn6x0"> <sup
                  class="textsuperscript">6</sup></a></span><span class="ec-lmr-8">Recall that in the binary tree
            addressing scheme of Nock, 1 refers</span>
         <span class="ec-lmr-8">to the entire noun, 2 to its head if it exists, and 3 to its tail if it</span>
         <span class="ec-lmr-8">exists.</span><a href="#x1-69021f6">⤴</a>
      </p>
   </div>


</body>

</html>